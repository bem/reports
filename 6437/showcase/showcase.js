!function(t){var e,i={NOT_RESOLVED:"NOT_RESOLVED",IN_RESOLVING:"IN_RESOLVING",RESOLVED:"RESOLVED"},n=function(){var l={trackCircularDependencies:!0,allowMultipleDeclarations:!0},d={},f=!1,p=[],m=function(t,n,o){o||(o=n,n=[]);var s=d[t];s||(s=d[t]={name:t,decl:e}),s.decl={name:t,prev:s.decl,fn:o,state:i.NOT_RESOLVED,deps:n,dependents:[],exports:e}},_=function(e,i,n){"string"==typeof e&&(e=[e]),f||(f=!0,h(k)),p.push({deps:e,cb:function(e,s){s?(n||o)(s):i.apply(t,e)}})},v=function(t){var e=d[t];return e?i[e.decl.state]:"NOT_DEFINED"},b=function(t){return!!d[t]},g=function(t){for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e])},y=function(){var t,e={};for(var i in d)d.hasOwnProperty(i)&&(t=d[i],(e[t.decl.state]||(e[t.decl.state]=[])).push(i));return e},k=function(){f=!1,E()},E=function(){var t,e=p,i=0;for(p=[];t=e[i++];)M(null,t.deps,[],t.cb)},M=function(t,e,i,n){var o=e.length;o||n([]);for(var r,c,a=[],u=function(t,e){if(e)return void n(null,e);if(!--o){for(var i,s=[],r=0;i=a[r++];)s.push(i.exports);n(s)}},h=0,l=o;l>h;){if(r=e[h++],"string"==typeof r){if(!d[r])return void n(null,s(r,t));c=d[r].decl}else c=r;a.push(c),x(c,i,u)}},x=function(e,n,o){if(e.state===i.RESOLVED)return void o(e.exports);if(e.state===i.IN_RESOLVING)return void(l.trackCircularDependencies&&u(e,n)?o(null,r(e,n)):e.dependents.push(o));if(e.dependents.push(o),e.prev&&!l.allowMultipleDeclarations)return void I(e,a(e));l.trackCircularDependencies&&(n=n.slice()).push(e);var s=!1,h=e.prev?e.deps.concat([e.prev]):e.deps;e.state=i.IN_RESOLVING,M(e,h,n,function(i,n){return n?void I(e,n):(i.unshift(function(t,i){return s?void o(null,c(e)):(s=!0,void(i?I(e,i):P(e,t)))}),void e.fn.apply({name:e.name,deps:e.deps,global:t},i))})},P=function(t,n){t.exports=n,t.state=i.RESOLVED;for(var o,s=0;o=t.dependents[s++];)o(n);t.dependents=e},I=function(t,e){t.state=i.NOT_RESOLVED;for(var n,o=0;n=t.dependents[o++];)n(null,e);t.dependents=[]};return{create:n,define:m,require:_,getState:v,isDefined:b,setOptions:g,getStat:y}},o=function(t){h(function(){throw t})},s=function(t,e){return Error(e?'Module "'+e.name+'": can\'t resolve dependence "'+t+'"':'Required module "'+t+"\" can't be resolved")},r=function(t,e){for(var i,n=[],o=0;i=e[o++];)n.push(i.name);return n.push(t.name),Error('Circular dependence has been detected: "'+n.join(" -> ")+'"')},c=function(t){return Error('Declaration of module "'+t.name+'" has already been provided')},a=function(t){return Error('Multiple declarations of module "'+t.name+'" have been detected')},u=function(t,e){for(var i,n=0;i=e[n++];)if(t===i)return!0;return!1},h=function(){var e=[],i=function(t){return 1===e.push(t)},n=function(){var t=e,i=0,n=e.length;for(e=[];n>i;)t[i++]()};if("object"==typeof process&&process.nextTick)return function(t){i(t)&&process.nextTick(n)};if(t.setImmediate)return function(e){i(e)&&t.setImmediate(n)};if(t.postMessage&&!t.opera){var o=!0;if(t.attachEvent){var s=function(){o=!1};t.attachEvent("onmessage",s),t.postMessage("__checkAsync","*"),t.detachEvent("onmessage",s)}if(o){var r="__modules"+ +new Date,c=function(t){t.data===r&&(t.stopPropagation&&t.stopPropagation(),n())};return t.addEventListener?t.addEventListener("message",c,!0):t.attachEvent("onmessage",c),function(e){i(e)&&t.postMessage(r,"*")}}}var a=t.document;if("onreadystatechange"in a.createElement("script")){var u=a.getElementsByTagName("head")[0],h=function(){var t=a.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,n()},u.appendChild(t)};return function(t){i(t)&&h()}}return function(t){i(t)&&setTimeout(n,0)}}();"object"==typeof exports?module.exports=n():t.modules=n()}("undefined"!=typeof window?window:global),"undefined"==typeof window&&"undefined"!=typeof module&&(modules=module.exports),function(t){var e=function(){function t(){this._lastMatchId=0,this._matchers=[],this._infiniteLoopDetection=!1,this.lib={},this._shortTags={};for(var t=0;t<i.length;t++)this._shortTags[i[t]]=1;this._options={},this._optJsAttrName="onclick",this._optJsAttrIsJs=!0,this._optJsCls="i-bem",this._optJsElem=!0,this._optEscapeContent=!1,this._optNobaseMods=!1,this._optDelimElem="__",this._optDelimMod="_",this._optShortTagCloser="/>",this.utils={_expandoId:(new Date).getTime(),bh:this,isSimple:function(t){if(!t||t===!0)return!0;var e=typeof t;return"string"===e||"number"===e},extend:function(t){t&&"object"==typeof t||(t={});for(var e=1,i=arguments.length;i>e;e++){var n,o=arguments[e];if(o)for(n in o)t[n]=o[n]}return t},position:function(){var t=this.node;return"content"===t.index?1:t.position},isFirst:function(){var t=this.node;return"content"===t.index||1===t.position},isLast:function(){var t=this.node;return"content"===t.index||t.position===t.arr._listLength},tParam:function(t,e,i){var n="__tp_"+t,o=this.node;if(arguments.length>1)return!i&&this.tParam(t)||(o[n]=e),this;for(;o;){if(o.hasOwnProperty(n))return o[n];o=o.parentNode}},process:function(t){var e=this.ctx,i=this.node,n=this.bh.processBemJson(t,e.block);return this.ctx=e,this.node=i,n},applyBase:function(){var t=this.node,e=t.json,i=e.block,n=e.mods,o=this.bh._fastMatcher(this,e);return void 0!==o&&(this.ctx=t.arr[t.index]=t.json=o,t.block=i,t.mods=n),this},stop:function(){return this.ctx._stop=!0,this},generateId:function(){return"uniq"+this._expandoId+ ++e},mod:function(t,e,i){var n=this.ctx.elem?"elemMods":"mods";if(arguments.length>1){var o=this.ctx[n];return o[t]=!o.hasOwnProperty(t)||i?e:o[t],this}return this.ctx[n][t]},mods:function(t,e){var i=this.ctx.elem?"elemMods":"mods",n=this.ctx[i];return void 0!==t?(this.ctx[i]=e?this.extend(n,t):this.extend(t,n),this):n},tag:function(t,e){return void 0===t?this.ctx.tag:((e||void 0===this.ctx.tag)&&(this.ctx.tag=t),this)},mix:function(t,e){return void 0===t?this.ctx.mix:(this.ctx.mix=e||!this.ctx.mix?t:(Array.isArray(this.ctx.mix)?this.ctx.mix:[this.ctx.mix]).concat(t),this)},attr:function(t,e,i){var n;return arguments.length>1?(n=this.ctx.attrs||(this.ctx.attrs={}),n[t]=!n.hasOwnProperty(t)||i?e:n[t],this):(n=this.ctx.attrs,n?n[t]:void 0)},attrs:function(t,e){var i=this.ctx.attrs||{};return void 0===t?i:(this.ctx.attrs=e?this.extend(i,t):this.extend(t,i),this)},bem:function(t,e){return void 0===t?this.ctx.bem:((e||void 0===this.ctx.bem)&&(this.ctx.bem=t),this)},js:function(t,e){var i=this.ctx;return void 0===t?i.js:(e||void 0===i.js?i.js=t:i.js!==!1&&(i.js=this.extend(i.js,t)),this)},cls:function(t,e){return void 0===t?this.ctx.cls:((e||void 0===this.ctx.cls)&&(this.ctx.cls=t),this)},param:function(t,e,i){return void 0===e?this.ctx[t]:((i||void 0===this.ctx[t])&&(this.ctx[t]=e),this)},content:function(t,e){return void 0===t?this.ctx.content:((e||void 0===this.ctx.content)&&(this.ctx.content=t),this)},html:function(t,e){return void 0===t?this.ctx.html:((e||void 0===this.ctx.html)&&(this.ctx.html=t),this)},json:function(){return this.ctx}}}var e=0;t.prototype={constructor:t,setOptions:function(t){var e;for(e in t)this._options[e]=t[e];if(t.jsAttrName&&(this._optJsAttrName=t.jsAttrName),t.jsAttrScheme&&(this._optJsAttrIsJs="js"===t.jsAttrScheme),void 0!==t.jsCls&&(this._optJsCls=t.jsCls),t.hasOwnProperty("jsElem")&&(this._optJsElem=t.jsElem),t.clsNobaseMods&&(this._optNobaseMods=!0),t.escapeContent&&(this._optEscapeContent=t.escapeContent),t.delimElem&&(this._optDelimElem=t.delimElem),t.delimMod&&(this._optDelimMod=t.delimMod),t.xhtml===!1&&(this._optShortTagCloser=">"),t.shortTags)for(var i=0;i<t.shortTags.length;i++)this._shortTags[t.shortTags[i]]=1;return this},getOptions:function(){return this._options},enableInfiniteLoopDetection:function(t){return this._infiniteLoopDetection=t,this},apply:function(t){return this.toHtml(this.processBemJson(t))},match:function(t,e){if(!t)return this;if(Array.isArray(t))return t.forEach(function(i,n){this.match(t[n],e)},this),this;if("object"==typeof t){for(var i in t)this.match(i,t[i]);return this}return e.__id="__func"+this._lastMatchId++,this._matchers.push([t,e]),this._fastMatcher=null,this},beforeEach:function(t){return this.match("$before",t)},afterEach:function(t){return this.match("$after",t)},buildMatcher:function(){function t(t,e){for(var i={},n=0,o=t.length;o>n;n++){var s=t[n],r=s[e]||"__no_value__";(i[r]||(i[r]=[])).push(s)}return i}function e(t,e,i){t.push("json."+e+" = true;","subRes = _m"+i+"(ctx, json);",'if (subRes !== undefined) return (subRes || "");',"if (json._stop) return;")}var i,n,o,s,r,c,a,u,h=[],l=["bh = this"],d=this._matchers,f=[];for(i=d.length-1;i>=0;i--)c=d[i],r=c[0],l.push("_m"+i+" = ms["+i+"][1]"),s={fn:c[1],index:i},~r.indexOf(this._optDelimElem)?(a=r.split(this._optDelimElem),u=a[0].split(this._optDelimMod),s.block=u[0],u.length>1&&(s.blockMod=u[1],s.blockModVal=u[2]||!0),a=a[1].split(this._optDelimMod),s.elem=a[0],a.length>1&&(s.elemMod=a[1],s.elemModVal=a[2]||!0)):(a=r.split(this._optDelimMod),s.block=a[0],a.length>1&&(s.blockMod=a[1],s.blockModVal=a[2]||!0)),f.push(s);var p=t(f,"block"),m=p.$before,_=p.$after;if(_&&delete p.$after,h.push("var "+l.join(", ")+";","function applyMatchers(ctx, json) {","var subRes;"),m)for(delete p.$before,n=0,o=m.length;o>n;n++)s=m[n],e(h,s.fn.__id,s.index);h.push("switch (json.block) {");for(var v in p){h.push('case "'+v+'":');var b=t(p[v],"elem");h.push("switch (json.elem) {");for(var g in b){"__no_value__"===g?h.push("case undefined:"):h.push('case "'+g+'":');var y=b[g];for(n=0,o=y.length;o>n;n++){s=y[n];var k=s.fn,E=[];E.push("!json."+k.__id),s.elemMod&&E.push('json.elemMods && json.elemMods["'+s.elemMod+'"] === '+(s.elemModVal===!0||'"'+s.elemModVal+'"')),s.blockMod&&E.push('json.mods && json.mods["'+s.blockMod+'"] === '+(s.blockModVal===!0||'"'+s.blockModVal+'"')),h.push("if ("+E.join(" && ")+") {"),e(h,k.__id,s.index),h.push("}")}h.push("break;")}h.push("}","break;")}if(h.push("}"),_)for(n=0,o=_.length;o>n;n++)s=_[n],e(h,s.fn.__id,s.index);return h.push("};","return applyMatchers;"),h.join("\n")},processBemJson:function(t,e,i){function n(){this.ctx=null}if(null!=t){var o,s,r,c,a,u,h,l,d,f,p=[t],m=[{json:t,arr:p,index:0,block:e,mods:null}],_=this._fastMatcher||(this._fastMatcher=Function("ms",this.buildMatcher())(this._matchers)),v=!i,b=this._infiniteLoopDetection;n.prototype=this.utils;for(var g=new n;o=m.shift();){if(s=o.json,r=o.block,c=o.mods,Array.isArray(s)){for(a=0,u=0,h=s.length;h>a;a++)d=s[a],d!==!1&&null!=d&&"object"==typeof d&&m.push({json:d,arr:s,index:a,position:++u,block:r,mods:c,parentNode:o});s._listLength=u}else{var y,k=!1;if(s.elem?(r=s.block=s.block||r,s.elemMods||(s.elemMods=s.mods||{},s.mods=null),c=s.mods=s.mods||c):s.block&&(r=s.block,c=s.mods=s.mods||{}),"object"==typeof s){if(b){if(s.__processCounter=(s.__processCounter||0)+1,_.__processCounter=(_.__processCounter||0)+1,s.__processCounter>100)throw new Error('Infinite json loop detected at "'+s.block+(s.elem?this._optDelimElem+s.elem:"")+'".');if(_.__processCounter>1e3)throw new Error('Infinite matcher loop detected at "'+s.block+(s.elem?this._optDelimElem+s.elem:"")+'".')}f=void 0,s._stop||(g.node=o,g.ctx=s,f=_(g,s),void 0!==f&&(s=f,o.json=s,o.block=r,o.mods=c,m.push(o),k=!0))}if(!k&&v&&(y=s.content))if(Array.isArray(y)){var E;do{for(E=!1,a=0,h=y.length;h>a;a++)if(Array.isArray(y[a])){E=!0;break}E&&(s.content=y=y.concat.apply([],y))}while(E);for(a=0,u=0,h=y.length,l=h-1;h>a;a++)d=y[a],d!==!1&&null!=d&&"object"==typeof d&&m.push({json:d,arr:y,index:a,position:++u,block:r,mods:c,parentNode:o});y._listLength=u}else m.push({json:y,arr:s,index:"content",block:r,mods:c,parentNode:o})}o.arr[o.index]=s}return p[0]}},toHtml:function(t){this._buf="",this._html(t);var e=this._buf;return delete this._buf,e},_html:function(t){var e,i,c;if(t!==!1&&null!=t)if("object"!=typeof t)this._buf+=this._optEscapeContent?n(t):t;else if(Array.isArray(t))for(e=0,i=t.length;i>e;e++)c=t[e],c!==!1&&null!=c&&this._html(c);else{if(t.toHtml){var a=t.toHtml.call(this,t)||"";return void(this._buf+=a)}var u=t.bem!==!1;if("undefined"!=typeof t.tag&&!t.tag)return void(t.html?this._buf+=t.html:this._html(t.content));t.mix&&!Array.isArray(t.mix)&&(t.mix=[t.mix]);var h,l,d,f="",p="",m=!1;if(h=t.attrs)for(e in h)l=h[e],l===!0?p+=" "+e:l!==!1&&null!==l&&void 0!==l&&(p+=" "+e+'="'+o(l)+'"');if(u){var _=t.block+(t.elem?this._optDelimElem+t.elem:"");t.block&&(f=r(t,_,null,this._optNobaseMods,this._optDelimMod),t.js&&((d={})[_]=t.js===!0?{}:t.js));var v=this._optJsCls&&(this._optJsElem||!t.elem),b=t.mix;if(b&&b.length)for(e=0,i=b.length;i>e;e++){var g=b[e];if(g&&g.bem!==!1){var y=g.block||t.block||"",k=g.elem||(g.block?null:t.block&&t.elem),E=y+(k?this._optDelimElem+k:"");y&&(f+=r(g,E,_,this._optNobaseMods,this._optDelimMod),g.js&&((d=d||{})[E]=g.js===!0?{}:g.js,m=!0,v||(v=y&&this._optJsCls&&(this._optJsElem||!k))))}}if(d){v&&(f+=" "+this._optJsCls);var M=m||t.js!==!0?s(JSON.stringify(d)):'{"'+_+'":{}}';p+=" "+(t.jsAttr||this._optJsAttrName)+"='"+(this._optJsAttrIsJs?"return "+M:M)+"'"}}t.cls&&(f=(f?f+" ":"")+o(t.cls).trim());var x=t.tag||"div";this._buf+="<"+x+(f?' class="'+f+'"':"")+(p?p:""),this._shortTags[x]?this._buf+=this._optShortTagCloser:(this._buf+=">",t.html?this._buf+=t.html:this._html(t.content),this._buf+="</"+x+">")}}};var i="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),n=t.prototype.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},o=t.prototype.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},s=t.prototype.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},r=function(t,e,i,n,o){var s,r,c,a="";if(i!==e&&(i&&(a+=" "),a+=e),s=t.elem&&t.elemMods||t.mods)for(c in s)r=s[c],(r||0===r)&&(a+=" "+(n?o:e+o)+c+(r===!0?"":o+r));return a};return t}();"undefined"!=typeof module&&(module.exports=e);var i=new e;i.setOptions({jsAttrName:"data-bem",jsAttrScheme:"json",xhtml:!1});var n=function(t,e){},o=!0;"object"==typeof modules?(modules.define("BH",[],function(t){n(),t(i)}),modules.define("BEMHTML",["BH"],function(t){t(i)}),o=!1):"object"==typeof exports&&(n(),i.BEMHTML=i,module.exports=i,o=!1),o&&(n(),t.BH=i,t.BEMHTML=i)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this),modules.define("i-bem__dom",["i-bem","i-bem__internal","identify","objects","functions","jquery","dom"],function(t,e,i,n,o,s,r,c){function a(t,e){var i,n=t[0],o=d(n);for(i in o)u(i,t,h(o[i],i,e))}function u(t,e,i,n,s){var c=e[0];i||(i=h(f(c,t),t));var a=i.uniqId,u=M[a];if(u)return u.domElem.index(c)<0&&(u.domElem=u.domElem.add(e),o.extend(u.params,i)),u;E[a]=E[a]?E[a].add(e):e;var l=c.parentNode;l&&11!==l.nodeType||r.unique(E[a]);var d=T[t]||g.decl(t,{},{live:!0},!0);return!(d._liveInitable=!!d._processLive())||n||i.live===!1?(n&&e.addClass(w),u=new d(E[a],i,!!n),delete E[a],s&&s.apply(u,Array.prototype.slice.call(arguments,4)),u):void 0}function h(t,e,i){return t.uniqId||(t.uniqId=(t.id?e+"-id-"+t.id:n())+(i||n())),t}function l(t,e,i){var n=t.find(e);return i?n:n.add(t.filter(e))}function d(t,e){var i=n(t);return P[i]||(P[i]=p(t))}function f(t,e){var i=d(t);return i[e]||(i[e]={})}function p(t){var e=t.getAttribute(D);return e?JSON.parse(e):{}}function m(t,e){1===t.domElem.length?t._destruct():t.domElem=t.domElem.not(e)}function _(t){t.each(function(){x[n(this)]=this.parentNode})}function v(t){return r("string"==typeof t?r.parseHTML(t,null,!0):t)}var b,g,y=r(window),k=r(document),E={},M={},x={},P={},I={},C={},T=e.blocks,w="i-bem",S="."+w,D="data-bem",V=i.NAME_PATTERN,N=i.MOD_DELIM,j=i.ELEM_DELIM,O=RegExp("[^"+N+"]"+N+"("+V+")(?:"+N+"("+V+"))?$"),B=i.buildModPostfix,A=i.buildClass,F=Array.prototype.reverse;r(function(){g=e.decl("i-bem__dom",{__constructor:function(t,e,i){this.domElem=t,this._eventNameCache={},this._elemCache={},this._uniqId=e.uniqId,M[this._uniqId]=this,this._needSpecialUnbind=!1,this.__base(null,e,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){return this._findBlocks("find",t,e,!0)},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,e,i,n){i||(i=e,e=b);var o=e?"string"==typeof e?this.findElem(e):e:this.domElem,s="string"==typeof i,c=s?i:i.block||i.blockName,a="."+(s?A(c):A(c,i.modName,i.modVal))+(n?":first":""),h=o.filter(a);if(t&&(h=h.add(o[t](a))),n)return h[0]?u(c,h.eq(0),b,!0)._init():null;var l=[],d={};return h.each(function(t,e){var i=u(c,r(e),b,!0)._init();d[i._uniqId]||(d[i._uniqId]=!0,l.push(i))}),l},bindToDomElem:function(t,e,i,n){return s.isFunction(i)&&(n=i,i=b),n?t.bind(this._buildEventName(e),i,r.proxy(n,this)):o.each(e,function(e,n){this.bindToDomElem(t,n,i,e)},this),this},bindToDoc:function(t,e,i){return this._needSpecialUnbind=!0,this.bindToDomElem(k,t,e,i)},bindToWin:function(t,e,i){return this._needSpecialUnbind=!0,this.bindToDomElem(y,t,e,i)},bindTo:function(t,e,i,n){var o=arguments.length;return 3===o?s.isFunction(i)&&(n=i,"object"==typeof e&&(i=e,e=t,t=this.domElem)):2===o?s.isFunction(e)?(n=e,e=t,t=this.domElem):"string"==typeof t||t instanceof r||(i=e,e=t,t=this.domElem):1===o&&(e=t,t=this.domElem),"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,e,i,n)},unbindFromDomElem:function(t,e,i){return"string"==typeof e?(e=this._buildEventName(e),i?t.unbind(e,i):t.unbind(e)):o.each(e,function(e,i){this.unbindFromDomElem(t,i,e)},this),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(k,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(y,t,e)},unbindFrom:function(t,e,i){var n=arguments.length;return 1===n?(e=t,t=this.domElem):2===n&&s.isFunction(e)?(i=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,e,i)},_buildEventName:function(t){return t.indexOf(" ")>1?t.split(" ").map(function(t){return this._buildOneEventName(t)},this).join(" "):this._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var i="."+this._uniqId;if(t.indexOf(".")<0)return e[t]=t+i;var n=".bem_"+this.__self._name;return e[t]=t.split(".").map(function(t,e){return 0===e?t+n:n+"_"+t}).join("")+i},_ctxEmit:function(t,e){this.__base.apply(this,arguments);var i=this,s=I[i.__self._buildCtxEventName(t.type)],r={};s&&i.domElem.each(function(c,a){for(var u=s.counter;a&&u;){var h=n(a,!0);if(h){if(r[h])break;var l=s.ctxs[h];l&&(o.each(l,function(n){n.fn.call(n.ctx||i,t,e)}),u--),r[h]=!0}a=a.parentNode||x[h]}})},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,n=[].slice.call(arguments,e?1:0),o=this._extractMods(n,e?t:b);return e||(n.length?n.forEach(function(t){i[t]=o[t]}):i=o),o},setMod:function(t,e,i){if(t&&"undefined"!=typeof i&&t.length>1){var n=this;return t.each(function(){var o=r(this);o.__bemElemName=t.__bemElemName,n.setMod(o,e,i)}),n}return this.__base(t,e,i)},_extractModVal:function(t,e,i){var n,o=(e||this.domElem)[0];return o&&(n=o.className.match(this.__self._buildModValRE(t,i||e))),n?n[2]||!0:""},_extractMods:function(t,e){var i={},n=!t.length,o=0;return((e||this.domElem)[0].className.match(this.__self._buildModValRE("("+(n?V:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=t.match(O);i[e[1]]=e[2]||!0,++o}),o<t.length&&t.forEach(function(t){t in i||(i[t]="")}),i},_onSetMod:function(t,e,i,n,o){if("js"!==t||""!==e){var s=this.__self,c=s._buildModClassPrefix(t,o),a=s._buildModValRE(t,o),u=""===e||e===!1;(n||this.domElem).each(function(){var t=this.className,n=c;e!==!0&&(n+=N+e),(i===!0?a.test(t):(" "+t).indexOf(" "+c+N)>-1)?this.className=t.replace(a,u?"":"$1"+n):u||r(this).addClass(n)}),o&&this.dropElemCache(o,t,i).dropElemCache(o,t,e)}this.__base.apply(this,arguments)},findElem:function(t,e,i,n,o){"string"==typeof t&&(o=n,n=i,i=e,e=t,t=this.domElem),"boolean"==typeof i&&(o=i,i=b),e=e.split(" ");var s=this.__self,r=B(i,n),c=[],a=e.map(function(t){return c.push(s.buildSelector(t,i,n)),t+r}),u=1===a.length,h=l(t,c.join(","));return t===this.domElem&&c.forEach(function(t,i){(this._elemCache[a[i]]=u?h:h.filter(t)).__bemElemName=e[i]},this),o?this._filterFindElemResults(h):h},_filterFindElemResults:function(t){var e=this.buildSelector(),i=this.domElem;return t.filter(function(){return i.index(r(this).closest(e))>-1})},_elem:function(t,e,i){return this._elemCache[t+B(e,i)]||this.findElem(t,e,i)},elem:function(t,e,i){if(2===arguments.length&&(i=!0),e&&"string"!=typeof e)return e.__bemElemName=t,e;if(t.indexOf(" ")<0)return this._elem(t,e,i);var n=r([]);return t.split(" ").forEach(function(t){n=n.add(this._elem(t,e,i))},this),n},closestElem:function(t,e){return t.closest(this.buildSelector(e))},dropElemCache:function(t,e,i){if(t){var n=B(e,i);t.indexOf(" ")<0?delete this._elemCache[t+n]:t.split(" ").forEach(function(t){delete this._elemCache[t+n]},this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),p(t[0])[this.__self.buildClass(e)]||{}},elemify:function(t,e){return(t=r(t)).__bemElemName=e,t},containsDomElem:function(t,e){return 1===arguments.length&&(e=t,t=this.domElem),c.contains(t,e)},buildSelector:function(t,e,i){return this.__self.buildSelector(t,e,i)},_destruct:function(){var t=this,e=t.__self;t._needSpecialUnbind&&e.doc.add(e.win).unbind("."+t._uniqId),t.__base(),delete M[t.un()._uniqId]}},{scope:r("body"),doc:k,win:y,_processLive:function(t){var e=this._liveInitable;if("live"in this){var i="undefined"==typeof e;if(i^t){e=this.live()!==!1;var n=this.getName(),o=this.live;this.live=function(){return this.getName()===n?e:o.apply(this,arguments)}}}return e},init:function(t){"string"==typeof t?t=r(t):t||(t=g.scope);var e=n();return l(t,S).each(function(){a(r(this),e)}),this._runInitFns(),t},_destruct:function(t,e,i){var s;e?(_(s=t.children()),i&&t.empty()):(_(s=t),i&&t.remove()),F.call(l(s,S)).each(function(t,e){var i=d(e);o.each(i,function(t){if(t.uniqId){var i=M[t.uniqId];i?m(i,e):delete E[t.uniqId]}}),delete P[n(e)]})},destruct:function(t,e){this._destruct(t,e,!0)},detach:function(t,e){this._destruct(t,e)},update:function(t,e){return this.destruct(t,!0),this.init(t.html(e))},replace:function(t,e){var i=t.prev(),n=t.parent();return e=v(e),this.destruct(t),this.init(i.length?e.insertAfter(i):e.prependTo(n))},append:function(t,e){return this.init(v(e).appendTo(t))},prepend:function(t,e){return this.init(v(e).prependTo(t))},before:function(t,e){return this.init(v(e).insertBefore(t))},after:function(t,e){return this.init(v(e).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,e,i,o){if(e.indexOf(" ")>-1)e.split(" ").forEach(function(e){this._liveClassBind(t,e,i,o)},this);else{var s=C[e],c=n(i);s||(s=C[e]={},g.scope.bind(e,r.proxy(this._liveClassTrigger,this))),s=s[t]||(s[t]={uniqIds:{},fns:[]}),c in s.uniqIds||(s.fns.push({uniqId:c,fn:this._buildLiveEventFn(i,o)}),s.uniqIds[c]=s.fns.length-1)}return this},_liveClassUnbind:function(t,e,i){var o=C[e];if(o)if(i){if(o=o[t]){var s=n(i);if(s in o.uniqIds){var r=o.uniqIds[s],c=o.fns.length-1;for(o.fns.splice(r,1);c>r;)o.uniqIds[o.fns[r++].uniqId]=r-1;delete o.uniqIds[s]}}}else delete o[t];return this},_liveClassTrigger:function(t){var e=C[t.type];if(e){var i=t.target,n=[];for(var o in e)n.push(o);do for(var s=" "+i.className+" ",c=0;o=n[c++];)if(s.indexOf(" "+o+" ")>-1){for(var a,u=0,h=e[o].fns,l=!1;a=h[u++];)a.fn.call(r(i),t)===!1&&(l=!0);if(l&&t.preventDefault(),l||t.isPropagationStopped())return;n.splice(--c,1)}while(n.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,e){var i=this;return function(n){n.currentTarget=this;var o=[i._name,r(this).closest(i.buildSelector()),b,!0],s=u.apply(null,e?o.concat([t,n]):o);return s&&!e&&t?t.apply(s,arguments):void 0}},liveInitOnEvent:function(t,e,i){return this.liveBindTo(t,e,i,!0)},liveBindTo:function(t,e,i,n){return e&&!s.isFunction(e)||(i=e,e=t,t=b),t&&"string"!=typeof t||(t={elem:t}),t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(o){this._liveClassBind(this.buildClass(o,t.modName,t.modVal),e,i,n)},this),this):this._liveClassBind(this.buildClass(t.elem,t.modName,t.modVal),e,i,n)},liveUnbindFrom:function(t,e,i){return e&&!s.isFunction(e)||(i=e,e=t,t=b),t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){this._liveClassUnbind(this.buildClass(t),e,i)},this),this):this._liveClassUnbind(this.buildClass(t),e,i)},_liveInitOnBlockEvent:function(t,e,i,n){var o=this._name;return T[e].on(t,function(t){var e=arguments,s=t.target[n](o);i&&s.forEach(function(t){i.apply(t,e)})}),this},liveInitOnBlockEvent:function(t,e,i){return this._liveInitOnBlockEvent(t,e,i,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,i){return this._liveInitOnBlockEvent(t,e,i,"findBlocksOutside")},on:function(t,e,i,n,o){return"object"==typeof t&&t.jquery?this._liveCtxBind(t,e,i,n,o):this.__base(t,e,i,n)},un:function(t,e,i,n){return"object"==typeof t&&t.jquery?this._liveCtxUnbind(t,e,i,n):this.__base(t,e,i)},_liveCtxBind:function(t,e,i,r,c){if("object"==typeof e){if(!s.isFunction(i)&&!s.isFunction(r))return o.each(e,function(e,n){this._liveCtxBind(t,n,e,i)},this),this;e=this._buildModEventName(e)}if(s.isFunction(i)&&(c=r,r=i,i=b),e.indexOf(" ")>-1)e.split(" ").forEach(function(e){this._liveCtxBind(t,e,i,r,c)},this);else{var a=this._buildCtxEventName(e),u=I[a]||(I[a]={counter:0,ctxs:{}});t.each(function(){var t=n(this),e=u.ctxs[t];e||(e=u.ctxs[t]={},++u.counter),e[n(r)+(c?n(c):"")]={fn:r,data:i,ctx:c}})}return this},_liveCtxUnbind:function(t,e,i,r){"object"==typeof e&&s.isFunction(i)&&(e=this._buildModEventName(e));var c=I[e=this._buildCtxEventName(e)];return c&&(t.each(function(){var t,e=n(this,!0);e&&(t=c.ctxs[e])&&(i&&delete t[n(i)+(r?n(r):"")],i&&!o.isEmpty(t)||(c.counter--,delete c.ctxs[e]))}),c.counter||delete I[e]),this},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t[0].className.match(this._buildElemNameRE());return e?e[1]:b},_buildModClassPrefix:function(t,e){return this._name+(e?j+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+N+t},_buildModValRE:function(t,e,i){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+N+"("+V+"))?(?=\\s|$)",i)},_buildElemNameRE:function(){return new RegExp(this._name+j+"("+V+")(?:\\s|$)")},buildClass:function(t,e,i){return A(this._name,t,e,i)},buildSelector:function(t,e,i){return"."+this.buildClass(t,e,i)}}),r.fn.bem=function(t,e){return u(t,this,e,!0)._init()},t(g)})}),function(){var t=modules.define,e=[];modules.define=function(i,n,o){t.apply(modules,arguments),"i-bem__dom_init"!==i&&arguments.length>2&&~n.indexOf("i-bem__dom")&&(e.push(i),1===e.length&&modules.define("i-bem__dom_init",e,function(t){t(arguments[arguments.length-1]),e=[]}))}}(),modules.define("jquery",["loader_type_js","jquery__config"],function(t,e,i){function n(e){t(e?jQuery:jQuery.noConflict(!0))}"undefined"!=typeof jQuery?n(!0):e(i.url,n)}),modules.define("loader_type_js",function(t){var e={},i={},n=document.getElementsByTagName("head")[0],o=function(t,i){var n,o=e[t],s=0;for(delete e[t];n=o[s++];)n[i]&&n[i]()},s=function(t){i[t]=!0,o(t,"success")},r=function(t){o(t,"error")};t(function(t,o,c){if(i[t])return void(o&&o());if(e[t])return void e[t].push({success:o,error:c});e[t]=[{success:o,error:c}];var a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.src=("file:"!==location.protocol||t.indexOf("//")?"":"http:")+t,"onload"in a?(a.onload=function(){a.onload=a.onerror=null,s(t)},a.onerror=function(){a.onload=a.onerror=null,r(t)}):a.onreadystatechange=function(){var e=this.readyState;"loaded"!==e&&"complete"!==e||(a.onreadystatechange=null,s(t))},n.insertBefore(a,n.lastChild)})}),modules.define("jquery__config",function(t){t({url:"https://yastatic.net/jquery/2.2.3/jquery.min.js"})}),modules.define("jquery__config",["ua","objects"],function(t,e,i,n){t(e.msie&&parseInt(e.version,10)<9?i.extend(n,{url:"https://yastatic.net/jquery/1.12.3/jquery.min.js"}):n)}),modules.define("ua",function(t){var e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n={browser:i[1]||"",version:i[2]||"0"},o={};n.browser&&(o[n.browser]=!0,o.version=n.version),o.chrome?o.webkit=!0:o.webkit&&(o.safari=!0),t(o)}),modules.define("objects",function(t){var e=Object.prototype.hasOwnProperty;t({extend:function(t,i){("object"!=typeof t||null===t)&&(t={});for(var n=1,o=arguments.length;o>n;n++){var s=arguments[n];if(s)for(var r in s)e.call(s,r)&&(t[r]=s[r])}return t},isEmpty:function(t){for(var i in t)if(e.call(t,i))return!1;return!0},each:function(t,i,n){for(var o in t)e.call(t,o)&&(n?i.call(n,t[o],o):i(t[o],o))}})}),modules.define("functions",function(t){var e=Object.prototype.toString;t({isFunction:function(t){return"[object Function]"===e.call(t)},noop:function(){}})}),modules.define("dom",["jquery"],function(t,e){t({contains:function(t,e){var i=!1;return e.each(function(){var e=this;do if(~t.index(e))return!(i=!0);while(e=e.parentNode);return i}),i},getFocused:function(){try{return e(document.activeElement)}catch(t){}},containsFocus:function(t){return this.contains(t,this.getFocused())},isFocusable:function(t){var e=t[0];if(!e)return!1;if(e.hasAttribute("tabindex"))return!0;switch(e.tagName.toLowerCase()){case"iframe":return!0;case"input":case"button":case"textarea":case"select":return!e.disabled;case"a":return!!e.href}return!1},isEditable:function(t){var e=t[0];if(!e)return!1;switch(e.tagName.toLowerCase()){case"input":var i=e.type;return!("text"!==i&&"password"!==i||e.disabled||e.readOnly);case"textarea":return!e.disabled&&!e.readOnly;default:return"true"===e.contentEditable}}})}),modules.define("i-bem__dom_init",["i-bem__dom"],function(t,e){t(function(t){return e.init(t)})}),modules.define("i-bem",["i-bem__internal","inherit","identify","next-tick","objects","functions","events"],function(t,e,i,n,o,s,r,c){function a(t,e,i,n){return"__"+t+(n?"__elem_"+n:"")+"__mod"+(e?"_"+e:"")+(i?"_"+i:"")}function u(t,e,i,n){if(r.isFunction(e))i[a(t,"*","*",n)]=e;else{var o,s,c;for(o in e)if(e.hasOwnProperty(o))if(c=e[o],r.isFunction(c))i[a(t,o,"*",n)]=c;else for(s in c)c.hasOwnProperty(s)&&(i[a(t,o,s,n)]=c[s])}}function h(t,e){return e?Array.isArray(e)?function(i){for(var n=0,o=e.length;o>n;)if(i.hasMod(t,e[n++]))return!0;return!1}:function(i){return i.hasMod(t,e)}:function(e){return e.hasMod(t)}}function l(t){t.beforeSetMod&&(u("before",t.beforeSetMod,t),delete t.beforeSetMod),t.onSetMod&&(u("after",t.onSetMod,t),delete t.onSetMod);var e;if(t.beforeElemSetMod){for(e in t.beforeElemSetMod)t.beforeElemSetMod.hasOwnProperty(e)&&u("before",t.beforeElemSetMod[e],t,e);delete t.beforeElemSetMod}if(t.onElemSetMod){for(e in t.onElemSetMod)t.onElemSetMod.hasOwnProperty(e)&&u("after",t.onElemSetMod[e],t,e);delete t.onElemSetMod}}var d,f=e.MOD_DELIM,p=e.ELEM_DELIM,m=[],_={},v=i(c.Emitter,{__constructor:function(t,e,i){this._modCache=t||{},this._processingMods={},this.params=s.extend(this.getDefaultParams(),e),i!==!1?this._init():m.push(this._init,this)},_init:function(){return this.setMod("js","inited")},on:function(t,e,i,n){return"object"==typeof t&&(r.isFunction(e)||r.isFunction(i))&&(t=this.__self._buildModEventName(t)),this.__base.apply(this,arguments)},un:function(t,e,i){return"object"==typeof t&&r.isFunction(e)&&(t=this.__self._buildModEventName(t)),this.__base.apply(this,arguments)},emit:function(t,e){var i=!1;return"object"!=typeof t||t instanceof c.Event||(i="js"===t.modName,t=this.__self._buildModEventName(t)),(i||this.hasMod("js","inited"))&&(this.__base(t=this._buildEvent(t),e),this._ctxEmit(t,e)),this},_ctxEmit:function(t,e){this.__self.emit(t,e)},_buildEvent:function(t){return"string"==typeof t?t=new c.Event(t,this):t.target||(t.target=this),t},hasMod:function(t,e,i){var n=arguments.length,o=!1;
1===n?(i="",e=t,t=d,o=!0):2===n&&("string"==typeof t?(i=e,e=t,t=d):(i="",o=!0));var s=typeof i;"string"===s||"boolean"===s||"undefined"===s||(i=i.toString());var r=this.getMod(t,e)===i;return o?!r:r},getMod:function(t,e){var i=typeof t;if("string"===i||"undefined"===i){e=t||e;var n=this._modCache;return e in n?n[e]||"":n[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,i){return this._extractModVal(t,e,i)},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,n=[].slice.call(arguments,e?1:0);return n.length?n.reduce(function(t,e){return e in i&&(t[e]=i[e]),t},{}):i},setMod:function(t,e,i){if("undefined"==typeof i&&("string"==typeof t?(i="undefined"==typeof e?!0:e,e=t,t=d):i=!0),!t||t[0]){i===!1?i="":"boolean"!=typeof i&&(i=i.toString());var o=(t&&t[0]?n(t[0]):"")+"_"+e;if(this._processingMods[o])return this;var s,r=t?this._getElemMod(e,t,s=this.__self._extractElemNameFrom(t)):this.getMod(e);if(r===i)return this;this._processingMods[o]=!0;var c=!0,a=[e,i,r];t&&a.unshift(t);for(var u,h,l,f=[["*","*"],[e,"*"],[e,i]],p=["before","after"],m=0;u=p[m++];){for(h=0;l=f[h++];)if(this._callModFn(u,s,l[0],l[1],a)===!1){c=!1;break}if(!c)break;"before"===u&&(t||(this._modCache[e]=i),this._onSetMod(e,i,r,t,s))}this._processingMods[o]=null,c&&this._emitModChangeEvents(e,i,r,t,s)}return this},_onSetMod:function(t,e,i,n,o){},_emitModChangeEvents:function(t,e,i,n,o){var s={modName:t,modVal:e,oldModVal:i};n&&(s.elem=n),this.emit({modName:t,modVal:"*",elem:o},s).emit({modName:t,modVal:e,elem:o},s)},toggleMod:function(t,e,i,n,o){"string"==typeof t&&(o=n,n=i,i=e,e=t,t=d),"undefined"==typeof i&&(i=!0),"undefined"==typeof n?n="":"boolean"==typeof n&&(o=n,n="");var s=this.getMod(t,e);return(s===i||s===n)&&this.setMod(t,e,"boolean"==typeof o?o?i:n:this.hasMod(t,e,i)?n:i),this},delMod:function(t,e){return e||(e=t,t=d),this.setMod(t,e,"")},_callModFn:function(t,e,i,n,o){var s=a(t,i,n,e);return this[s]?this[s].apply(this,o):d},_extractModVal:function(t,e){return""},getDefaultParams:function(){return{}},_destruct:function(){this.delMod("js")},nextTick:function(t){var e=this;return o(function(){e.hasMod("js","inited")&&t.call(e)}),this}},{_name:"i-bem",blocks:_,decl:function(t,e,n){"string"==typeof t&&(t={block:t}),arguments.length<=2&&"object"==typeof t&&(!t||"string"!=typeof t.block&&"string"!=typeof t.modName)&&(n=e,e=t,t={}),"undefined"==typeof t.block&&(t.block=this.getName());var o;if("undefined"==typeof t.baseBlock)o=_[t.block]||this;else if("string"==typeof t.baseBlock){if(o=_[t.baseBlock],!o)throw'baseBlock "'+t.baseBlock+'" for "'+t.block+'" is undefined'}else o=t.baseBlock;if(l(e||(e={})),t.modName){var c=h(t.modName,t.modVal);s.each(e,function(t,i){r.isFunction(t)&&(e[i]=function(){var e;if(c(this))e=t;else{var n=o.prototype[i];n&&n!==t&&(e=this.__base)}return e?e.apply(this,arguments):d})})}if(n&&"boolean"==typeof n.live){var a=n.live;n.live=function(){return a}}var u,f=o;return t.baseMix&&(f=[f],t.baseMix.forEach(function(e){if(!_[e])throw'mix block "'+e+'" for "'+t.block+'" is undefined';f.push(_[e])})),t.block===o.getName()?(u=i.self(f,e,n))._processLive(!0):((u=_[t.block]=i(f,e,n))._name=t.block,delete u._liveInitable),u},declMix:function(t,e,n){return l(e||(e={})),_[t]=i(e,n)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new _[t.block](t.mods,e)},getName:function(){return this._name},on:function(t,e,i,n){return"object"==typeof t&&(r.isFunction(e)||r.isFunction(i))&&(t=this._buildModEventName(t)),this.__base.apply(this,arguments)},un:function(t,e,i){return"object"==typeof t&&r.isFunction(e)&&(t=this._buildModEventName(t)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e=f+t.modName+f+(t.modVal===!1?"":t.modVal);return t.elem&&(e=p+t.elem+e),e},_extractElemNameFrom:function(t){},_runInitFns:function(){if(m.length){var t,e=m,i=0;for(m=[];t=e[i];)t.call(e[i+1]),i+=2}}});t(v)}),modules.define("i-bem__internal",function(t){function e(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function i(t,e){var i="";return null!=e&&e!==!1&&(i+=r+t,e!==!0&&(i+=r+e)),i}function n(t,e,n){return t+i(e,n)}function o(t,e,o,r){return n(t,s,s)+c+e+i(o,r)}var s,r="_",c="__",a="[a-zA-Z0-9-]+";t({NAME_PATTERN:a,MOD_DELIM:r,ELEM_DELIM:c,buildModPostfix:i,buildClass:function(t,i,r,c){return e(r)?e(c)||(c=r,r=i,i=s):"undefined"!=typeof r?r=s:i&&"string"!=typeof i&&(i=s),i||r?i?o(t,i,r,c):n(t,r,c):t},buildClasses:function(t,e,i){e&&"string"!=typeof e&&(i=e,e=s);var r=e?o(t,e,s,s):n(t,s,s);if(i)for(var c in i)i.hasOwnProperty(c)&&i[c]&&(r+=" "+(e?o(t,e,c,i[c]):n(t,c,i[c])));return r}})}),function(t){function e(t){var e=u(t);if(m)for(var i,n=0;i=b[n++];)t.hasOwnProperty(i)&&e.push(i);return e}function i(t,i,n){for(var o,r,c=e(n),a=0,u=c.length;u>a;)"__self"!==(o=c[a++])&&(r=n[o],f(r)&&(!s||r.toString().indexOf(".__base")>-1)?i[o]=function(e,n){var o=t[e]?t[e]:"__constructor"===e?i.__self.__parent:p;return function(){var t=this.__base;this.__base=o;var e=n.apply(this,arguments);return this.__base=t,e}}(o,r):i[o]=r)}function n(t,e){for(var i,n=1;i=t[n++];)e?f(i)?o.self(e,i.prototype,i):o.self(e,i):e=f(i)?o(t[0],i.prototype,i):o(t[0],i);return e||t[0]}function o(){var t=arguments,e=d(t[0]),o=e||f(t[0]),s=o?e?n(t[0]):t[0]:r,c=t[o?1:0]||{},u=t[o?2:1],l=c.__constructor||o&&s.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:o?function(){return s.apply(this,arguments)}:function(){};if(!o)return l.prototype=c,l.prototype.__self=l.prototype.constructor=l,h(l,u);h(l,s),l.__parent=s;var p=s.prototype,m=l.prototype=a(p);return m.__self=m.constructor=l,c&&i(p,m,c),u&&i(s,l,u),l}var s=function(){"_"}.toString().indexOf("_")>-1,r=function(){},c=Object.prototype.hasOwnProperty,a=Object.create||function(t){var e=function(){};return e.prototype=t,new e},u=Object.keys||function(t){var e=[];for(var i in t)c.call(t,i)&&e.push(i);return e},h=function(t,e){for(var i in e)c.call(e,i)&&(t[i]=e[i]);return t},l=Object.prototype.toString,d=Array.isArray||function(t){return"[object Array]"===l.call(t)},f=function(t){return"[object Function]"===l.call(t)},p=function(){},m=!0,_={toString:""};for(var v in _)_.hasOwnProperty(v)&&(m=!1);var b=m?["toString","valueOf"]:null;o.self=function(){var t=arguments,e=d(t[0]),o=e?n(t[0],t[0][0]):t[0],s=t[1],r=t[2],c=o.prototype;return s&&i(c,c,s),r&&i(o,o,r),o};var g=!0;"object"==typeof exports&&(module.exports=o,g=!1),"object"==typeof modules&&(modules.define("inherit",function(t){t(o)}),g=!1),"function"==typeof define&&(define(function(t,e,i){i.exports=o}),g=!1),g&&(t.inherit=o)}(this),modules.define("identify",function(t){var e=0,i="__"+ +new Date,n=function(){return"uniq"+ ++e};t(function(t,e){if(!t)return n();var o="uniqueID"in t?"uniqueID":i;return e||o in t?t[o]:t[o]=n()})}),modules.define("next-tick",function(t){var e=this.global,i=[],n=function(t){return i.push(t),1===i.length},o=function(){var t=i,e=0,n=i.length;for(i=[];n>e;)t[e++]()};if("object"==typeof process&&process.nextTick)return t(function(t){n(t)&&process.nextTick(o)});if(e.setImmediate)return t(function(t){n(t)&&e.setImmediate(o)});if(e.postMessage){var s=!0;if(e.attachEvent){var r=function(){s=!1};e.attachEvent("onmessage",r),e.postMessage("__checkAsync","*"),e.detachEvent("onmessage",r)}if(s){var c="__nextTick"+ +new Date,a=function(t){t.data===c&&(t.stopPropagation&&t.stopPropagation(),o())};return e.addEventListener?e.addEventListener("message",a,!0):e.attachEvent("onmessage",a),t(function(t){n(t)&&e.postMessage(c,"*")})}}var u=e.document;if("onreadystatechange"in u.createElement("script")){var h=u.getElementsByTagName("head")[0],l=function(){var t=u.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,o()},h.appendChild(t)};return t(function(t){n(t)&&l()})}t(function(t){n(t)&&e.setTimeout(o,0)})}),modules.define("events",["identify","inherit","functions"],function(t,e,i,n){var o,s="__"+ +new Date+"storage",r=function(t,i){return e(t)+(i?e(i):"")},c=i({__constructor:function(t,e){this.type=t,this.target=e,this.result=o,this.data=o,this._isDefaultPrevented=!1,this._isPropagationStopped=!1},preventDefault:function(){this._isDefaultPrevented=!0},isDefaultPrevented:function(){return this._isDefaultPrevented},stopPropagation:function(){this._isPropagationStopped=!0},isPropagationStopped:function(){return this._isPropagationStopped}}),a={on:function(t,e,i,c,a){if("string"==typeof t){n.isFunction(e)&&(c=i,i=e,e=o);for(var u,h,l,d,f=r(i,c),p=this[s]||(this[s]={}),m=t.split(" "),_=0;u=m[_++];)d=p[u]||(p[u]={ids:{},list:{}}),f in d.ids||(h=d.list,l={fn:i,data:e,ctx:c,special:a},h.last?(h.last.next=l,l.prev=h.last):h.first=l,d.ids[f]=h.last=l)}else for(var v in t)t.hasOwnProperty(v)&&this.on(v,t[v],e,a);return this},once:function(t,e,i,n){return this.on(t,e,i,n,{once:!0})},un:function(t,e,i){if("string"==typeof t||"undefined"==typeof t){var n=this[s];if(n)if(t){for(var o,c=t.split(" "),a=0;t=c[a++];)if(o=n[t])if(e){var u=r(e,i),h=o.ids;if(u in h){var l=o.list,d=h[u],f=d.prev,p=d.next;f?f.next=p:d===l.first&&(l.first=p),p?p.prev=f:d===l.last&&(l.last=f),delete h[u]}}else delete this[s][t]}else delete this[s]}else for(var m in t)t.hasOwnProperty(m)&&this.un(m,t[m],e);return this},emit:function(t,e){var i=this[s],n=!1;if(i)for(var o,r,a=["string"==typeof t?t:t.type,"*"],u=0;o=a[u++];)if(r=i[o])for(var h,l=r.list.first,d=r.list.last;l&&(n||(n=!0,"string"==typeof t&&(t=new c(t)),t.target||(t.target=this)),t.data=l.data,h=l.fn.apply(l.ctx||this,arguments),"undefined"!=typeof h&&(t.result=h,h===!1&&(t.preventDefault(),t.stopPropagation())),l.special&&l.special.once&&this.un(t.type,l.fn,l.ctx),l!==d);)l=l.next;return this}},u=i(a,a);t({Emitter:u,Event:c})}),modules.require(["i-bem__dom_init","jquery","next-tick"],function(t,e,i){e(function(){i(t)})}),modules.define("link",["i-bem__dom","control","events"],function(t,e,i,n){t(e.decl({block:this.name,baseBlock:i},{onSetMod:{js:{inited:function(){this._url=this.params.url||this.domElem.attr("href"),this.hasMod("disabled")&&this.domElem.removeAttr("href")}},disabled:{"true":function(){this.__base.apply(this,arguments),this.domElem.removeAttr("href").attr("aria-disabled",!0)},"":function(){this.__base.apply(this,arguments),this.domElem.attr("href",this._url).removeAttr("aria-disabled")}}},getUrl:function(){return this._url},setUrl:function(t){return this._url=t,this.hasMod("disabled")||this.domElem.attr("href",t),this},_onPointerClick:function(t){if(this.hasMod("disabled"))t.preventDefault();else{var e=new n.Event("click");this.emit(e),e.isDefaultPrevented()&&t.preventDefault()}}},{live:function(){return this.liveBindTo("control","pointerclick",this.prototype._onPointerClick),this.__base.apply(this,arguments)}}))}),modules.define("jquery",["next-tick"],function(t,e,i){var n,o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,s=i.event.special.pointerclick={setup:function(){o?i(this).on("pointerdown",s.onPointerdown).on("pointerup",s.onPointerup).on("pointerleave pointercancel",s.onPointerleave):i(this).on("click",s.handler)},teardown:function(){o?i(this).off("pointerdown",s.onPointerdown).off("pointerup",s.onPointerup).off("pointerleave pointercancel",s.onPointerleave):i(this).off("click",s.handler)},handler:function(t){if(!t.button){var e=t.type;t.type="pointerclick",i.event.dispatch.apply(this,arguments),t.type=e}},onPointerdown:function(t){n=t},onPointerleave:function(){n=null},onPointerup:function(t){n&&(r||(e(function(){r=!1,n=null}),r=!0),s.handler.apply(this,arguments))}},r=!1;t(i)}),function(t,e){"object"==typeof modules&&modules.isDefined("jquery")?modules.define("jquery",function(t,i){e(this.global,i),t(i)}):"function"==typeof jQuery&&e(t,jQuery)}(this,function(t,e){function i(t){var i=e.extend(new e.Event,t);return t.preventDefault&&(i.preventDefault=function(){t.preventDefault()}),i}function n(t,e){return t.bubbles?c.trigger(t,null,e):c.dispatch.call(e,t)}function o(t,i){i||(i={});for(var n,o=e.Event(t),s=0;f>s;s++)n=d[s],o[n]=i[n]||p[s];o.buttons=i.buttons||0,o.x=o.clientX,o.y=o.clientY;var r=0;return r=i.pressure?i.pressure:o.buttons?.5:0,o.pointerId=i.pointerId||0,o.width=i.width||0,o.height=i.height||0,o.pressure=r,o.tiltX=i.tiltX||0,o.tiltY=i.tiltY||0,o.pointerType=i.pointerType||"",o.hwTimestamp=i.hwTimestamp||0,o.isPrimary=i.isPrimary||!1,o.which="undefined"==typeof i.which?1:i.which,o}function s(){this.array=[],this.size=0}function r(){v.eventHandler.apply(v,arguments)}var c=e.event;if(delete c.special.pointerenter,delete c.special.pointerleave,!t.PointerEvent){var a,u=document,h=t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,l={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,pageX:0,pageY:0},d=Object.keys(l),f=d.length,p=d.map(function(t){return l[t]});s.prototype={set:function(t,e){return e===a?this["delete"](t):(this.has(t)||this.size++,void(this.array[t]=e))},has:function(t){return this.array[t]!==a},"delete":function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(i,n){t.call(e,i,n,this)},this)}};var m=t.Map&&t.Map.prototype.forEach?Map:s,_=new m,v={eventMap:{},eventSourceList:[],registerSource:function(t,e){var i=e.events;i&&(i.forEach(function(t){e[t]&&(this.eventMap[t]=function(){e[t].apply(e,arguments)})},this),this.eventSourceList.push(e))},register:function(t){for(var e,i=this.eventSourceList.length,n=0;i>n&&(e=this.eventSourceList[n]);n++)e.register.call(e,t)},unregister:function(t){for(var e,i=this.eventSourceList.length,n=0;i>n&&(e=this.eventSourceList[n]);n++)e.unregister.call(e,t)},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.enterLeave(t,this.leave)},enterOver:function(t){this.over(t),this.enterLeave(t,this.enter)},enterLeave:function(t,e){var i=t.target,n=t.relatedTarget;if(!this.contains(i,n))for(;i&&i!==n;)t.target=i,e.call(this,t),i=i.parentNode},contains:function(t,i){return t===i||e.contains(t,i)},eventHandler:function(t){if(!t._handledByPE){var e,i=t.type;(e=this.eventMap&&this.eventMap[i])&&e(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,i){e(t).on(i,r)},removeEvent:function(t,i){e(t).off(i,r)},getTarget:function(t){return t._target},makeEvent:function(t,e){var i=new o(t,e);return e.preventDefault&&(i.preventDefault=e.preventDefault),i._target=i._target||e.target,i},dispatchEvent:function(t){var e=this.getTarget(t);return e?(t.target||(t.target=e),n(t,e)):void 0},fireEvent:function(t,e){var i=this.makeEvent(t,e);return this.dispatchEvent(i)}},b=200,g=25,y=1,k=2500,E=20,M={POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){v.listen(t,this.events)},unregister:function(t){v.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,i=this.lastTouches,n=t.clientX,o=t.clientY,s=0,r=i.length;r>s&&(e=i[s]);s++){var c=Math.abs(n-e.x),a=Math.abs(o-e.y);if(g>=c&&g>=a)return!0}},prepareEvent:function(t){var e=i(t);return e.pointerId=y,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,e},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){_.has(y)&&this.cancel(t),_.set(y,t);var e=this.prepareEvent(t);v.down(e)}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);v.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=_.get(y);if(e&&e.button===t.button){var i=this.prepareEvent(t);v.up(i),this.cleanupMouse()}}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);v.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);v.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);v.cancel(e),this.cleanupMouse()},cleanupMouse:function(){_["delete"](y)}},x={events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){v.listen(t,this.events)},unregister:function(t){v.unlisten(t,this.events)},POINTER_TYPE:"touch",clickCount:0,resetId:null,firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===_.size||1===_.size&&_.has(y))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=null,this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.resetClickCount())},resetClickCount:function(){var t=this;this.resetId=setTimeout(function(){t.clickCount=0,t.resetId=null},b)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return u.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this.currentTouchEvent,n=i(t);n.pointerId=t.identifier+2,n.target=this.findTarget(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=t.webkitRadiusX||t.radiusX||0,n.height=t.webkitRadiusY||t.radiusY||0,n.pressure=t.mozPressure||t.webkitForce||t.force||.5,n.isPrimary=this.isPrimaryTouch(t),n.pointerType=this.POINTER_TYPE;var o=this;return n.preventDefault=function(){o.scrolling=!1,o.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var i=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var n,o=0;o<i.length;o++)n=i[o],e.call(this,this.touchToPointer(n))},shouldScroll:function(t){return!0},findTouch:function(t,e){for(var i,n=0,o=t.length;o>n&&(i=t[n]);n++)if(i.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(_.size>=e.length){var i=[];_.forEach(function(t,n){n===y||this.findTouch(e,n-2)||i.push(t.outEvent)},this),i.forEach(this.cancelOut,this)}},dedupSynthMouse:function(t){var e=M.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch(i)){var n={x:i.clientX,y:i.clientY};e.push(n),setTimeout(function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)},k)}},touchstart:function(t){var e=t.originalEvent;this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},touchmove:function(t){var e=t.originalEvent;if(this.scrolling){if(this.firstXY){var i=this.firstXY,n=e.changedTouches[0],o=n.clientX-i.X,s=n.clientY-i.Y,r=Math.sqrt(o*o+s*s);r>=E&&(this.touchcancel(t),this.scrolling=!0,this.firstXY=null)}}else null===this.scrolling&&this.shouldScroll(e)?this.scrolling=!0:(t.preventDefault(),this.processTouches(t,this.moveOverOut))},touchend:function(t){var e=t.originalEvent;this.dedupSynthMouse(e),this.processTouches(t,this.upOut)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},overDown:function(t){var e=t.target;_.set(t.pointerId,{target:e,outTarget:e,outEvent:t}),v.over(t),v.enter(t),v.down(t)},moveOverOut:function(t){var e=_.get(t.pointerId);if(e){v.move(t);var i=e.outEvent,n=e.outTarget;i&&n!==t.target&&(t.relatedTarget=n,i.relatedTarget=t.target,i.target=n,t.target?(v.leaveOut(i),v.enterOver(t)):(t.target=n,t.relatedTarget=null,this.cancelOut(t))),e.outEvent=t,e.outTarget=t.target}},upOut:function(t){v.up(t),v.out(t),v.leave(t),this.cleanUpPointer(t)},cancelOut:function(t){v.cancel(t),v.out(t),v.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){_["delete"](t.pointerId),this.removePrimaryPointer(t)}},P={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel"],register:function(t){v.listen(t,this.events)},unregister:function(t){v.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=i(t);return h&&(e.pointerType=this.POINTER_TYPES[t.pointerType]),e},MSPointerDown:function(t){_.set(t.pointerId,t);var e=this.prepareEvent(t);v.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);v.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);v.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);v.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);v.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);v.cancel(e),this.cleanup(t.pointerId)},cleanup:function(t){_["delete"](t)}},I=t.navigator;I.msPointerEnabled?v.registerSource("ms",P):(v.registerSource("mouse",M),"undefined"!=typeof t.ontouchstart&&v.registerSource("touch",x)),v.register(u)}}),modules.define("jquery",function(t,e){function i(t){var i=e.extend(new e.Event,t);return t.preventDefault&&(i.preventDefault=function(){t.preventDefault()}),i}e.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},function(t,n){function o(n){if(1===n.which){var o=i(n);return o.type=t,o.originalEvent=n,e.event.dispatch.call(this,o)}}e.event.special[t]={setup:function(){return e(this).on(n,o),!1},teardown:function(){return e(this).off(n,o),!1}}}),t(e)}),modules.define("keyboard__codes",function(t){t({BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46})}),modules.define("control",["i-bem__dom","dom","next-tick"],function(t,e,i,n){t(e.decl(this.name,{beforeSetMod:{focused:{"true":function(){return!this.hasMod("disabled")}}},onSetMod:{js:{inited:function(){this._focused=i.containsFocus(this.elem("control")),this._focused?this._onFocus():this.hasMod("focused")&&this._focus(),this._tabIndex="undefined"!=typeof this.params.tabIndex?this.params.tabIndex:this.elem("control").attr("tabindex"),this.hasMod("disabled")&&"undefined"!==this._tabIndex&&this.elem("control").removeAttr("tabindex")}},focused:{"true":function(){this._focused||this._focus()},"":function(){this._focused&&this._blur()}},disabled:{"true":function(){this.elem("control").attr("disabled",!0),this.delMod("focused"),"undefined"!=typeof this._tabIndex&&this.elem("control").removeAttr("tabindex")},"":function(){this.elem("control").removeAttr("disabled"),"undefined"!=typeof this._tabIndex&&this.elem("control").attr("tabindex",this._tabIndex)}}},getName:function(){return this.elem("control").attr("name")||""},getVal:function(){return this.elem("control").val()},_onFocus:function(){this._focused=!0,this.setMod("focused")},_onBlur:function(){this._focused=!1,this.delMod("focused")},_focus:function(){i.isFocusable(this.elem("control"))?this.elem("control").focus():this._onFocus()},_blur:function(){this.elem("control").blur(),this._onBlur()}},{live:function(){this.liveBindTo("control","focusin",function(){this._focused||this._onFocus()}).liveBindTo("control","focusout",this.prototype._onBlur);var t=i.getFocused();if(t.hasClass(this.buildClass("control"))){var e=this;n(function(){if(t[0]===i.getFocused()[0]){var n=t.closest(e.buildSelector());n&&n.bem(e.getName())}})}}}))}),modules.define("control",function(t,e){t(e.decl({beforeSetMod:{hovered:{"true":function(){return!this.hasMod("disabled")}}},onSetMod:{disabled:{"true":function(){this.__base.apply(this,arguments),this.delMod("hovered")}},hovered:{"true":function(){this.bindTo("mouseleave",this._onMouseLeave)},"":function(){this.unbindFrom("mouseleave",this._onMouseLeave)}}},_onMouseOver:function(){this.setMod("hovered")},_onMouseLeave:function(){this.delMod("hovered")}},{live:function(){return this.liveBindTo("mouseover",this.prototype._onMouseOver).__base.apply(this,arguments)}}))}),modules.define("button",["i-bem__dom","control","jquery","dom","functions","keyboard__codes"],function(t,e,i,n,o,s,r){t(e.decl({block:this.name,baseBlock:i},{beforeSetMod:{pressed:{"true":function(){return!this.hasMod("disabled")||this.hasMod("togglable")}},focused:{"":function(){return!this._isPointerPressInProgress}}},onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._isPointerPressInProgress=!1,this._focusedByPointer=!1}},disabled:{"true":function(){this.__base.apply(this,arguments),this.hasMod("togglable")||this.delMod("pressed"),this.domElem.attr("aria-disabled",!0)},"":function(){this.__base.apply(this,arguments),this.domElem.removeAttr("aria-disabled")}},focused:{"true":function(){this.__base.apply(this,arguments),this._focusedByPointer||this.setMod("focused-hard")},"":function(){this.__base.apply(this,arguments),this.delMod("focused-hard")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t||""),this},_onFocus:function(){this._isPointerPressInProgress||(this.__base.apply(this,arguments),this.bindTo("control","keydown",this._onKeyDown))},_onBlur:function(){this.unbindFrom("control","keydown",this._onKeyDown).__base.apply(this,arguments)},_onMouseDown:function(t){t.preventDefault(),this.unbindFrom("mousedown",this._onMouseDown)},_onPointerPress:function(){this.bindTo("mousedown",this._onMouseDown),this.hasMod("disabled")||(this._isPointerPressInProgress=!0,this.bindToDoc("pointerrelease",this._onPointerRelease).setMod("pressed"))},_onPointerRelease:function(t){this._isPointerPressInProgress=!1,this.unbindFromDoc("pointerrelease",this._onPointerRelease),"pointerup"===t.originalEvent.type&&o.contains(this.elem("control"),n(t.target))?(this._focusedByPointer=!0,this._focus(),this._focusedByPointer=!1,this.bindTo("pointerclick",this._onPointerClick)):this._blur(),this.delMod("pressed")},_onPointerClick:function(){this.unbindFrom("pointerclick",this._onPointerClick)._updateChecked().emit("click")},_onKeyDown:function(t){if(!this.hasMod("disabled")){var e=t.keyCode;e!==r.SPACE&&e!==r.ENTER||this.unbindFrom("control","keydown",this._onKeyDown).bindTo("control","keyup",this._onKeyUp)._updateChecked().setMod("pressed")}},_onKeyUp:function(t){this.unbindFrom("control","keyup",this._onKeyUp).bindTo("control","keydown",this._onKeyDown).delMod("pressed"),t.keyCode===r.SPACE&&this._doAction(),this.emit("click")},_updateChecked:function(){return this.hasMod("togglable")&&(this.hasMod("togglable","check")?this.toggleMod("checked"):this.setMod("checked")),this},_doAction:s.noop},{live:function(){return this.liveBindTo("control","pointerpress",this.prototype._onPointerPress),this.__base.apply(this,arguments)}}))}),modules.define("checkbox-group",["i-bem__dom","jquery","dom","checkbox"],function(t,e,i,n){var o;t(e.decl(this.name,{beforeSetMod:{focused:{"true":function(){return!this.hasMod("disabled")}}},onSetMod:{js:{inited:function(){this._inSetVal=!1,this._val=this._extractVal(),this._checkboxes=o}},disabled:function(t,e){this.getCheckboxes().forEach(function(i){i.setMod(t,e)})},focused:{"true":function(){if(!n.containsFocus(this.domElem))for(var t,e=this.getCheckboxes(),i=0;t=e[i++];)if(t.setMod("focused").hasMod("focused"))return},"":function(){var t=this.findBlockInside({block:"checkbox",modName:"focused",modVal:!0});t&&t.delMod("focused")}}},getVal:function(){return this._val},setVal:function(t,e){t=t.map(String);var i=this.getCheckboxes(),n=!1,o=t.length,s=i.map(function(e){var i=e.hasMod("checked"),s=!!~t.indexOf(e.getVal());return s?(--o,i||(n=!0)):i&&(n=!0),s});return n&&!o&&(this._inSetVal=!0,i.forEach(function(t,e){t.setMod("checked",s[e])}),this._inSetVal=!1,this._val=t,this.emit("change",e)),this},getName:function(){return this.getCheckboxes()[0].getName()},getCheckboxes:function(){return this._checkboxes||(this._checkboxes=this.findBlocksInside("checkbox"))},_extractVal:function(){return this.getCheckboxes().filter(function(t){return t.hasMod("checked")}).map(function(t){return t.getVal()})},_onCheckboxCheck:function(){this._inSetVal||(this._val=this._extractVal(),this.emit("change"))},_onCheckboxFocus:function(t){this.setMod("focused",t.target.getMod("focused"))}},{live:function(){var t=this.prototype;this.liveInitOnBlockInsideEvent({modName:"checked",modVal:"*"},"checkbox",t._onCheckboxCheck).liveInitOnBlockInsideEvent({modName:"focused",modVal:"*"},"checkbox",t._onCheckboxFocus)}}))}),modules.define("checkbox",["i-bem__dom","control"],function(t,e,i){t(e.decl({block:this.name,baseBlock:i},{onSetMod:{checked:{"true":function(){this.elem("control").attr("checked",!0).prop("checked",!0)},"":function(){this.elem("control").removeAttr("checked").prop("checked",!1)}}},_onChange:function(){this.setMod("checked",this.elem("control").prop("checked"))}},{live:function(){return this.liveBindTo("control","change",this.prototype._onChange),this.__base.apply(this,arguments)}}))}),modules.define("button",function(t,e){t(e.decl({modName:"togglable"},{onSetMod:{checked:function(t,e){this.__base.apply(this,arguments),this.domElem.attr("aria-pressed",!!e)}}}))}),modules.define("input",["i-bem__dom","control"],function(t,e,i){t(e.decl({block:this.name,baseBlock:i},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._val=this.elem("control").val()}}},getVal:function(){return this._val},setVal:function(t,e){if(t=String(t),this._val!==t){this._val=t;var i=this.elem("control");i.val()!==t&&i.val(t),this.emit("change",e)}return this}},{live:function(){return this.__base.apply(this,arguments),!1}}))}),modules.define("input",["tick","idle"],function(t,e,i,n){var o,s=[],r=function(){o=!0,e.on("tick",c).start(),i.on({idle:function(){e.un("tick",c)},wakeup:function(){e.on("tick",c)}}).start()},c=function(){for(var t,e=0;t=s[e++];)t.setVal(t.elem("control").val())};t(n.decl({onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),o||r(),this._instanceIndex=s.push(this)-1},"":function(){this.__base.apply(this,arguments),s.splice(this._instanceIndex,1);for(var t,e=this._instanceIndex;t=s[e++];)--t._instanceIndex}}},_focus:function(){var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}else t.focus()}}))}),modules.define("tick",["inherit","events"],function(t,e,i){var n=50,o=this.global,s=e(i.Emitter,{__constructor:function(){this._timer=null,this._isStarted=!1},start:function(){this._isStarted||(this._isStarted=!0,this._scheduleTick())},stop:function(){this._isStarted&&(this._isStarted=!1,o.clearTimeout(this._timer))},_scheduleTick:function(){var t=this;this._timer=o.setTimeout(function(){t._onTick()},n)},_onTick:function(){this.emit("tick"),this._isStarted&&this._scheduleTick()}});t(new s)}),modules.define("idle",["inherit","events","jquery"],function(t,e,i,n){var o=3e3,s="mousemove keydown click",r=e(i.Emitter,{__constructor:function(){this._timer=null,this._isStarted=!1,this._isIdle=!1},start:function(){this._isStarted||(this._isStarted=!0,this._startTimer(),n(document).on(s,n.proxy(this._onUserAction,this)))},stop:function(){this._isStarted&&(this._isStarted=!1,this._stopTimer(),n(document).off(s,this._onUserAction))},isIdle:function(){return this._isIdle},_onUserAction:function(){this._isIdle&&(this._isIdle=!1,this.emit("wakeup")),this._stopTimer(),this._startTimer()},_startTimer:function(){var t=this;this._timer=setTimeout(function(){t._onTimeout()},o)},_stopTimer:function(){this._timer&&clearTimeout(this._timer)},_onTimeout:function(){this._isIdle=!0,this.emit("idle")}});t(new r)}),modules.define("input",function(t,e){t(e.decl({modName:"has-clear",modVal:!0},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){this.setVal("",{source:"clear"}).setMod("focused")},_updateClear:function(){this.toggleMod(this.elem("clear"),"visible",!0,!!this._val);
}},{live:function(){return this.liveBindTo("clear","pointerclick",function(){this._onClearClick()}),this.__base.apply(this,arguments)}}))}),modules.define("input",function(t,e){t(e.decl({modName:"has-clear",modVal:!0},{_onBoxClick:function(){this.hasMod(this.elem("clear"),"visible")||this.setMod("focused")}},{live:function(){return this.liveBindTo("box","pointerclick",function(){this._onBoxClick()}),this.__base.apply(this,arguments)}}))}),modules.define("menu",["i-bem__dom","control","keyboard__codes","menu-item"],function(t,e,i,n){var o=1500;t(e.decl({block:this.name,baseBlock:i},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._hoveredItem=null,this._items=null,this._lastTyping={"char":"",text:"",index:0,time:0}}},disabled:{"*":function(t,e){this.__base.apply(this,arguments),this.getItems().forEach(function(i){i.setMod(t,e)})},"true":function(){this.__base.apply(this,arguments),this.domElem.attr("aria-disabled",!0)},"":function(){this.__base.apply(this,arguments),this.domElem.removeAttr("aria-disabled")}}},getItems:function(){return this._items||(this._items=this.findBlocksInside("menu-item"))},setContent:function(t){return e.update(this.domElem,t),this._hoveredItem=null,this._items=null,this},searchItemByKeyboardEvent:function(t){var e=+new Date,i=t.charCode,s=String.fromCharCode(i).toLowerCase(),r=this._lastTyping,c=r.index,a=s===r["char"]&&1===r.text.length,u=this.getItems();if(i<=n.SPACE||t.ctrlKey||t.altKey||t.metaKey)return r.time=e,null;e-r.time>o||a?r.text=s:r.text+=s,r["char"]=s,r.time=e,a&&0===u[c].getText().search(r["char"])&&(c=c>=u.length-1?0:c+1);for(var h=c,l=u.length;l>h;){if(this._doesItemMatchText(u[h],r.text))return r.index=h,u[h];h++,h===u.length&&(h=0,l=c)}return null},_onFocus:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._onKeyDown).bindToDoc("keypress",this._onKeyPress)},_onBlur:function(){this.unbindFromDoc("keydown",this._onKeyDown).unbindFromDoc("keypress",this._onKeyPress).__base.apply(this,arguments),this._hoveredItem&&this._hoveredItem.delMod("hovered")},_onItemHover:function(t){t.hasMod("hovered")?(this._hoveredItem&&this._hoveredItem.delMod("hovered"),this._scrollToItem(this._hoveredItem=t),this.domElem.attr("aria-activedescendant",t.domElem.attr("id"))):this._hoveredItem===t&&(this._hoveredItem=null,this.domElem.removeAttr("aria-activedescendant")),this.emit("item-hover",{item:t})},_scrollToItem:function(t){var e,i=this.domElem.offset().top,n=t.domElem.offset().top;((e=n-i)<0||(e=n+t.domElem.outerHeight()-i-this.domElem.outerHeight())>0)&&this.domElem.scrollTop(this.domElem.scrollTop()+e)},_onItemClick:function(t,e){this.emit("item-click",{item:t,source:e.source})},_onKeyDown:function(t){var e=t.keyCode,i=e===n.UP||e===n.DOWN;if(i&&!t.shiftKey){t.preventDefault();var o=e-39,s=this.getItems(),r=s.length,c=s.indexOf(this._hoveredItem),a=c,u=0;do if(a+=o,a=0>a?r-1:a>=r?0:a,++u===r)return;while(s[a].hasMod("disabled"));this._lastTyping.index=a,s[a].setMod("hovered")}},_onKeyPress:function(t){var e=this.searchItemByKeyboardEvent(t);e&&e.setMod("hovered")},_doesItemMatchText:function(t,e){return!t.hasMod("disabled")&&0===t.getText().toLowerCase().search(e)}},{live:function(){return this.liveInitOnBlockInsideEvent({modName:"hovered",modVal:"*"},"menu-item",function(t){this._onItemHover(t.target)}).liveInitOnBlockInsideEvent("click","menu-item",function(t,e){this._onItemClick(t.target,e)}),this.__base.apply(this,arguments)}}))}),modules.define("menu-item",["i-bem__dom"],function(t,e){t(e.decl(this.name,{beforeSetMod:{hovered:{"true":function(){return!this.hasMod("disabled")}}},onSetMod:{js:{inited:function(){this.bindTo("pointerleave",this._onPointerLeave)}},disabled:{"true":function(){this.delMod("hovered").domElem.attr("aria-disabled",!0)},"":function(){this.domElem.removeAttr("aria-disabled")}},checked:{"*":function(t,e){this.domElem.attr("aria-checked",!!e)}}},isValEq:function(t){return String(this.params.val)===String(t)},getVal:function(){return this.params.val},getText:function(){return this.params.text||this.domElem.text()},_onPointerOver:function(){this.setMod("hovered")},_onPointerLeave:function(){this.delMod("hovered")},_onPointerClick:function(){this.hasMod("disabled")||this.emit("click",{source:"pointer"})}},{live:function(){var t=this.prototype;this.liveBindTo("pointerover",t._onPointerOver).liveBindTo("pointerclick",t._onPointerClick)}}))}),modules.define("menu",["keyboard__codes"],function(t,e,i){t(i.decl({modName:"mode"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._val=null,this._isValValid=!1}}},_onKeyDown:function(t){t.keyCode!==e.ENTER&&t.keyCode!==e.SPACE||(this.unbindFromDoc("keydown",this._onKeyDown).bindToDoc("keyup",this._onKeyUp),t.keyCode===e.SPACE&&t.preventDefault(),this._onItemClick(this._hoveredItem,{source:"keyboard"})),this.__base.apply(this,arguments)},_onKeyUp:function(){this.unbindFromDoc("keyup",this._onKeyUp),this.hasMod("focused")&&this.bindToDoc("keydown",this._onKeyDown)},getVal:function(){return this._isValValid||(this._val=this._getVal(),this._isValValid=!0),this._val},_getVal:function(){throw Error("_getVal is not implemented")},setVal:function(t){return this._setVal(t)&&(this._val=t,this._isValValid=!0,this.emit("change")),this},_setVal:function(){throw Error("_setVal is not implemented")},_updateItemsCheckedMod:function(t){var e=this.getItems();t.forEach(function(t,i){e[i].setMod("checked",t)})},setContent:function(){var t=this.__base.apply(this,arguments);return this._isValValid=!1,this.emit("change"),t}}))}),modules.define("menu",function(t,e){t(e.decl({modName:"mode",modVal:"radio"},{_getVal:function(){for(var t,e=this.getItems(),i=0;t=e[i++];)if(t.hasMod("checked"))return t.getVal()},_setVal:function(t){var e=!1,i=!1,n=this.getItems().map(function(n){return n.isValEq(t)?(n.hasMod("checked")||(e=!0),i=!0):!1});return i?(this._updateItemsCheckedMod(n),e):!1},_onItemClick:function(t){this.__base.apply(this,arguments);var e=!1;this.getItems().forEach(function(i){i===t?i.hasMod("checked")||(i.setMod("checked",!0),this._isValValid=!1,e=!0):i.delMod("checked")},this),e&&this.emit("change")}}))}),modules.define("select",["i-bem__dom","popup","menu","menu-item","button","jquery","dom","keyboard__codes","strings__escape"],function(t,e,i,n,o,s,r,c,a,u){t(e.decl(this.name,{beforeSetMod:{opened:{"true":function(){return!this.hasMod("disabled")}},focused:{"":function(){return!this._isPointerPressInProgress}}},onSetMod:{js:{inited:function(){this._button=this.findBlockInside("button").on("click",this._onButtonClick,this),this._popup=this.findBlockInside("popup").setAnchor(this._button).on({modName:"visible",modVal:""},this._onPopupHide,this),this._menu=this._popup.findBlockInside("menu").on({change:this._onMenuChange,"item-click":this._onMenuItemClick,"item-hover":this._onMenuItemHover},this),this._isPointerPressInProgress=!1,this._buttonWidth=null,this.hasMod("focused")&&this._focus()}},focused:{"true":function(){this._focus()},"":function(){this._blur()}},opened:{"*":function(t,e){this._menu.setMod("focused",e)},"true":function(){null===this._buttonWidth&&this._updateMenuWidth(),this._updateMenuHeight(),this._popup.setMod("visible"),this.bindToDoc("pointerpress",this._onDocPointerPress).setMod("focused")._hoverCheckedOrFirstItem()},"":function(){this.unbindFromDoc("pointerpress",this._onDocPointerPress)._popup.delMod("visible")}},disabled:{"*":function(t,e){this._button.setMod(t,e),this._menu.setMod(t,e)},"true":function(){this.elem("control").attr("disabled",!0),this._popup.delMod("visible")},"":function(){this.elem("control").removeAttr("disabled")}}},getVal:function(){return this._menu.getVal()},setVal:function(t){return this._menu.setVal(t),this},getName:function(){return this.params.name},getDefaultParams:function(){return{optionsMaxHeight:Number.POSITIVE_INFINITY}},_focus:function(){this.bindTo("button",{keydown:this._onKeyDown,keypress:this._onKeyPress})._button.setMod("focused")},_blur:function(){this.unbindFrom("button",{keydown:this._onKeyDown,keypress:this._onKeyPress}).delMod("opened")._button.delMod("focused")},_updateMenuWidth:function(){this._menu.domElem.css("min-width",this._buttonWidth=this._button.domElem.outerWidth()),this._popup.redraw()},_updateMenuHeight:function(){var t=this._popup.calcPossibleDrawingParams(),e=this._menu.domElem,i=e.outerWidth(),n=0;t.forEach(function(t){t.width>=i&&t.height>n&&(n=t.height)}),n&&e.css("max-height",Math.min(this.params.optionsMaxHeight,n))},_getCheckedItems:function(){return this._menu.getItems().filter(function(t){return t.hasMod("checked")})},_hoverCheckedOrFirstItem:function(){(this._getCheckedItems()[0]||this._menu.getItems()[0]).setMod("hovered")},_onKeyDown:function(t){this.hasMod("opened")?t.keyCode===a.ESC&&(t.stopPropagation(),this.delMod("opened")):t.keyCode!==a.UP&&t.keyCode!==a.DOWN||t.shiftKey||(t.preventDefault(),this.setMod("opened"))},_onKeyPress:function(t){if(!this.hasMod("opened")){var e=this._menu.searchItemByKeyboardEvent(t);e&&this._setSingleVal(e.getVal())}},_setSingleVal:function(t){this.setVal(t)},_onMenuChange:function(){this._updateControl(),this._updateButton(),this.hasMod("opened")?this._updateMenuWidth():this._buttonWidth=null,this.emit("change")},_onMenuItemClick:function(){},_onMenuItemHover:function(t,e){var i=e.item;i.hasMod("hovered")?this._button.domElem.attr("aria-activedescendant",i.domElem.attr("id")):this._button.domElem.removeAttr("aria-activedescendant")},_updateControl:function(){},_updateButton:function(){},_onButtonClick:function(){this.toggleMod("opened")},_onButtonFocusChange:function(t,e){this.setMod("focused",e.modVal)},_onPopupHide:function(){this.delMod("opened")},_onDocPointerPress:function(t){this._isEventInPopup(t)&&("mouse"===t.pointerType&&t.preventDefault(),this._isPointerPressInProgress=!0,this.bindToDoc("pointerrelease",{focusedHardMod:this._button.getMod("focused-hard")},this._onDocPointerRelease))},_onDocPointerRelease:function(t){this._isPointerPressInProgress=!1,this.unbindFromDoc("pointerrelease",this._onDocPointerRelease)._button.toggleMod("focused",!0,"",this._isEventInPopup(t)).setMod("focused-hard",t.data.focusedHardMod)},_isEventInPopup:function(t){return c.contains(this._popup.domElem,r(t.target))}},{live:function(){this.liveInitOnBlockInsideEvent({modName:"focused",modVal:"*"},"button",this.prototype._onButtonFocusChange)},_createControlHTML:function(t,e){return'<input type="hidden" name="'+t+'" class="'+this.buildClass("control")+'" value="'+u.attr(e)+'"/>'}}))}),modules.define("popup",["i-bem__dom"],function(t,e){var i,n=1e3,o={};t(e.decl(this.name,{onSetMod:{js:{inited:function(){this._parentPopup=i,this._zIndex=null,this._zIndexGroupLevel=null,this._isAttachedToScope=!1},"":function(){this.delMod("visible")}},visible:{"true":function(){this._isAttachedToScope||(e.scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerpress pointerclick",this._setPreventHideByClick).domElem.removeAttr("aria-hidden")},"":function(){this._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerpress pointerclick",this._setPreventHideByClick).domElem.attr("aria-hidden",!0)}}},setContent:function(t){return e.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do t._preventHideByClick=!0;while(t=t._getParentPopup())},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&t.on({modName:"visible",modVal:""},this._onParentPopupHide,this),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un({modName:"visible",modVal:""},this._onParentPopupHide,this),this._parentPopup=i,this},_onParentPopupHide:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){var t=null===this._zIndexGroupLevel?this._zIndexGroupLevel=this._calcZIndexGroupLevel():this._zIndexGroupLevel,e=o[t]||(o[t]=[(t+1)*n]),i=this._zIndex;return this._zIndex=e[e.push(e[e.length-1]+1)-1],this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=o[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0}))}),modules.define("functions__throttle",function(t){var e=this.global;t(function(t,i,n,o){var s=typeof n;"undefined"===s?n=!0:3===arguments.length&&"boolean"!==s&&(o=n,n=!0);var r,c,a,u=function(){a?(t.apply(o,c),a=!1,r=e.setTimeout(u,i)):r=null};return function(){c=arguments,o||(o=this),a=!0,r||(n?u():r=e.setTimeout(u,i))}})}),modules.define("popup",["jquery","i-bem__dom","ua","dom","keyboard__codes"],function(t,e,i,n,o,s,r){function c(t){t.keyCode===s.ESC&&u.length&&!o.isEditable(e(t.target))&&u[0].delMod("visible")}var a=n.opera&&n.version<12.1?"keypress":"keydown",u=[];t(r.decl({modName:"autoclosable",modVal:!0},{onSetMod:{visible:{"true":function(){u.unshift(this),this.nextTick(function(){this.bindToDoc("pointerclick",this._onDocPointerClick)}).__base.apply(this,arguments)},"":function(){u.splice(u.indexOf(this),1),this.unbindFromDoc("pointerclick",this._onDocPointerClick).__base.apply(this,arguments)}}},_onDocPointerClick:function(t){this.hasMod("target","anchor")&&o.contains(this._anchor,e(t.target))||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){i.doc.on(a,c)}}))}),modules.define("popup",["i-bem__dom","objects"],function(t,e,i,n){var o,s=.99,r=["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"],c=e.win;t(n.decl({modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastDrawingCss={left:o,top:o,zIndex:o,display:o}}},visible:{"true":function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScrollAndResize).redraw()},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize",this._onWinScrollAndResize)}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},redraw:function(){if(!this.hasMod("visible"))return this;var t=this._calcBestDrawingParams();this.setMod("direction",t.direction);var e=this._lastDrawingCss,n=!1;return i.each(this._calcDrawingCss(t),function(t,i){e[i]!==t&&(e[i]=t,n=!0)}),n&&this.domElem.css(e),this},_calcDrawingCss:function(t){return{left:t.left,top:t.top}},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),i=this.params,n=i.mainOffset,o=i.secondaryOffset,s=i.viewportOffset;return this.params.directions.map(function(i){var r={direction:i,width:0,height:0,left:0,top:0};return this._checkMainDirection(i,"bottom")?(r.top=t.top+t.height+n,r.height=e.bottom-r.top-s):this._checkMainDirection(i,"top")?(r.height=t.top-e.top-n-s,r.top=t.top-r.height-n):(this._checkSecondaryDirection(i,"center")?(r.height=e.bottom-e.top-2*s,r.top=t.top+t.height/2-r.height/2):this._checkSecondaryDirection(i,"bottom")?(r.height=t.top+t.height-e.top-o-s,r.top=t.top+t.height-r.height-o):this._checkSecondaryDirection(i,"top")&&(r.top=t.top+o,r.height=e.bottom-r.top-s),this._checkMainDirection(i,"left")?(r.width=t.left-e.left-n-s,r.left=t.left-r.width-n):(r.left=t.left+t.width+n,r.width=e.right-r.left-s)),this._checkSecondaryDirection(i,"right")?(r.width=t.left+t.width-e.left-o-s,r.left=t.left+t.width-r.width-o):this._checkSecondaryDirection(i,"left")?(r.left=t.left+o,r.width=e.right-r.left-s):this._checkSecondaryDirection(i,"center")&&this._checkMainDirection(i,"top","bottom")&&(r.width=e.right-e.left-2*s,r.left=t.left+t.width/2-r.width/2),r},this)},_calcBestDrawingParams:function(){for(var t,e,i,n,o,r,c=this._calcPopupDimensions(),a=this._calcTargetDimensions(),u=this._calcViewportDimensions(),h=this.params.directions,l=0;(t=h[l++])&&(e=this._calcPos(t,a,c),i=this._calcViewportFactor(e,u,c),(1===l||i>r||!r&&this.hasMod("direction",t))&&(n=t,r=i,o=e),!(r>s)););return{direction:n,left:o.left,top:o.top}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,area:t*e}},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=c.scrollTop(),e=c.scrollLeft(),i=c.width(),n=c.height();return{top:t,left:e,bottom:t+n,right:e+i}},_calcPos:function(t,e,i){var n={},o=this.params.mainOffset,s=this.params.secondaryOffset;return this._checkMainDirection(t,"bottom")?n.top=e.top+e.height+o:this._checkMainDirection(t,"top")?n.top=e.top-i.height-o:this._checkMainDirection(t,"left")?n.left=e.left-i.width-o:this._checkMainDirection(t,"right")&&(n.left=e.left+e.width+o),this._checkSecondaryDirection(t,"right")?n.left=e.left+e.width-i.width-s:this._checkSecondaryDirection(t,"left")?n.left=e.left+s:this._checkSecondaryDirection(t,"bottom")?n.top=e.top+e.height-i.height-s:this._checkSecondaryDirection(t,"top")?n.top=e.top+s:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?n.left=e.left+e.width/2-i.width/2:this._checkMainDirection(t,"left","right")&&(n.top=e.top+e.height/2-i.height/2)),n},_calcViewportFactor:function(t,e,i){var n=this.params.viewportOffset,o=Math.max(t.left,e.left+n),s=Math.min(t.left+i.width,e.right-n),r=Math.max(t.top,e.top+n),c=Math.min(t.top+i.height,e.bottom-n);return s>o&&c>r?(s-o)*(c-r)/i.area:0},_checkMainDirection:function(t,e,i){return!t.indexOf(e)||i&&!t.indexOf(i)},_checkSecondaryDirection:function(t,e){return~t.indexOf("-"+e)},_onWinScrollAndResize:function(){this.redraw()},getDefaultParams:function(){return i.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,directions:r})}}))}),modules.define("popup",["i-bem__dom","jquery","objects","functions__throttle"],function(t,e,i,n,o,s){var r,c=i(e.doc[0].body),a=100;t(s.decl({modName:"target",modVal:"anchor"},{beforeSetMod:{visible:{"true":function(){if(!this._anchor)throw Error("Can't show popup without anchor")}}},onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._anchorParents=null,this._destructor=null,this._isAnchorVisible=r,this._updateIsAnchorVisible=o(this._updateIsAnchorVisible,a,!1,this)},"":function(){this.__base.apply(this,arguments),this._unbindFromDestructor()}},visible:{"true":function(){this._anchorParents=this._anchor.parents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=r}}},setAnchor:function(t){return this._unbindFromAnchorParents()._unbindFromParentPopup()._unbindFromDestructor(),this._anchor=t instanceof e?t.domElem:t,this._destructor=this._anchor.bem("_"+this.__self.getName()+"-destructor"),this._isAnchorVisible=r,this._bindToDestructor(),this.hasMod("visible")?(this._anchorParents=this._anchor.parents(),this._recaptureZIndex()._bindToAnchorParents()._bindToParentPopup().redraw()):(this._anchorParents=null,this._zIndexGroupLevel=null),this},_calcTargetDimensions:function(){var t=this._anchor,e=t.offset(),i="static"===c.css("position")?{left:0,top:0}:c.offset();return{left:e.left-i.left,top:e.top-i.top,width:t.outerWidth(),height:t.outerHeight()}},_calcDrawingCss:function(t){return"undefined"==typeof this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),n.extend(this.__base(t),{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var t=this._anchor,e=t.offset(),n=e.left,o=e.top,s=n+t.outerWidth(),r=o+t.outerHeight(),c=this.getMod("direction"),a=Math.floor(this._checkMainDirection(c,"top")||this._checkSecondaryDirection(c,"top")?o:r),u=Math.floor(this._checkMainDirection(c,"left")||this._checkSecondaryDirection(c,"left")?n:s),h=!0;return this._anchorParents.each(function(){if("BODY"===this.tagName)return!1;var t=i(this),e=t.css("overflow-y"),n="scroll"===e||"hidden"===e||"auto"===e,o=t.css("overflow-x"),s="scroll"===o||"hidden"===o||"auto"===o;if(n||s){var r=t.offset();if(n){var c=Math.floor(r.top);if(c>a||c+t.outerHeight()<a)return h=!1}if(s){var l=Math.floor(r.left);return h=!(l>u||l+t.outerWidth()<u)}}}),h},_calcZIndexGroupLevel:function(){var t=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t)},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll",this._onAnchorParentsScroll),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScrollAndResize:function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible()},_updateIsAnchorVisible:function(){if(this.hasMod("js","inited")&&this.hasMod("visible")){var t=this._calcIsAnchorVisible();t!==this._isAnchorVisible&&(this._isAnchorVisible=t,this.redraw())}},_bindToDestructor:function(){return this._destructor.on({modName:"js",modVal:""},this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._destructor&&this._destructor.un({modName:"js",modVal:""},this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){e.destruct(this.domElem)},_getParentPopup:function(){return this._parentPopup===r?this._parentPopup=this.findBlockOutside(this._anchor,this.__self.getName()):this._parentPopup}}))}),modules.define("strings__escape",function(t){var e={'"':"&quot;","'":"&apos;","&":"&amp;","<":"&lt;",">":"&gt;"},i=function(t){return e[t]||t},n=function(t){return t=new RegExp(t,"g"),function(e){return(""+e).replace(t,i)}};t({xml:n("[&<>]"),html:n("[&<>]"),attr:n("[\"'&<>]")})}),modules.define("select",["strings__escape"],function(t,e,i){t(i.decl({modName:"mode",modVal:"check"},{_updateControl:function(){this.elem("control").remove(),this.dropElemCache("control");var t=this.getName();this.domElem.prepend(this.getVal().map(function(e){return i._createControlHTML(t,e)}))},_updateButton:function(){var t=this._getCheckedItems();this._button.toggleMod("checked",!0,"",!!t.length).setText(1===t.length?t[0].getText():t.reduce(function(t,e){return t+(t?", ":"")+(e.params.checkedText||e.getText())},"")||this.params.text)},_setSingleVal:function(t){this.setVal([t])},_onMenuItemClick:function(t,e){"keyboard"===e.source&&(this._preventToToggleOpened=!0)},_onButtonClick:function(){this._preventToToggleOpened?this._preventToToggleOpened=!1:this.__base.apply(this,arguments)}}))}),modules.define("menu",function(t,e){t(e.decl({modName:"mode",modVal:"check"},{_getVal:function(){return this.getItems().filter(function(t){return t.hasMod("checked")}).map(function(t){return t.getVal()})},_setVal:function(t){var e=!1,i=t.length,n=this.getItems().map(function(n){var o=n.hasMod("checked"),s=t.some(function(t){return n.isValEq(t)});return s?(--i,o||(e=!0)):o&&(e=!0),s});return!e||i?!1:(this._updateItemsCheckedMod(n),e)},_onItemClick:function(t){this.__base.apply(this,arguments),this.getItems().forEach(function(e){e===t&&e.toggleMod("checked")}),this._isValValid=!1,this.emit("change")}}))}),modules.define("popup",["objects"],function(t,e,i){t(i.decl({modName:"theme",modVal:"islands"},{getDefaultParams:function(){return e.extend(this.__base(),{mainOffset:5,viewportOffset:10})}}))}),modules.define("radio-group",["i-bem__dom","jquery","dom","radio"],function(t,e,i,n){var o;t(e.decl(this.name,{beforeSetMod:{focused:{"true":function(){return!this.hasMod("disabled")}}},onSetMod:{js:{inited:function(){this._checkedRadio=this.findBlockInside({block:"radio",modName:"checked",modVal:!0}),this._inSetVal=!1,this._val=this._checkedRadio?this._checkedRadio.getVal():o,this._radios=o}},disabled:function(t,e){this.getRadios().forEach(function(i){i.setMod(t,e)})},focused:{"true":function(){if(!n.containsFocus(this.domElem))for(var t,e=this.getRadios(),i=0;t=e[i++];)if(t.setMod("focused").hasMod("focused"))return},"":function(){var t=this.findBlockInside({block:"radio",modName:"focused",modVal:!0});t&&t.delMod("focused")}}},getVal:function(){return this._val},setVal:function(t,e){var i=t===o;if(i||(t=String(t)),this._val!==t)if(i)this._val=o,this._checkedRadio.delMod("checked"),this.emit("change",e);else{var n=this._getRadioByVal(t);n&&(this._inSetVal=!0,this._val!==o&&this._getRadioByVal(this._val).delMod("checked"),this._val=n.getVal(),n.setMod("checked"),this._inSetVal=!1,this.emit("change",e))}return this},getName:function(){return this.getRadios()[0].getName()},getRadios:function(){return this._radios||(this._radios=this.findBlocksInside("radio"))},_getRadioByVal:function(t){for(var e,i=this.getRadios(),n=0;e=i[n++];)if(e.getVal()===t)return e},_onRadioCheck:function(t){var e=(this._checkedRadio=t.target).getVal();this._inSetVal||(this._val===e?(this.getRadios().forEach(function(t){t.getVal()!==e&&t.delMod("checked")}),this.emit("change")):this.setVal(e))},_onRadioFocus:function(t){this.setMod("focused",t.target.getMod("focused"))}},{live:function(){var t=this.prototype;this.liveInitOnBlockInsideEvent({modName:"checked",modVal:!0},"radio",t._onRadioCheck).liveInitOnBlockInsideEvent({modName:"focused",modVal:"*"},"radio",t._onRadioFocus)}}))}),modules.define("radio",["i-bem__dom","control"],function(t,e,i){t(e.decl({block:this.name,baseBlock:i},{onSetMod:{checked:{"true":function(){this.elem("control").attr("checked",!0).prop("checked",!0)},"":function(){this.elem("control").removeAttr("checked").prop("checked",!1)}}},_onChange:function(){this.hasMod("disabled")||this.setMod("checked")}},{live:function(){return this.liveBindTo("change",this.prototype._onChange),this.__base.apply(this,arguments)}}))}),modules.define("radio",["button"],function(t,e,i){function n(t,e,i){i!==!1&&this.__base.apply(this,arguments),this._button.setMod(t,e)}function o(t,e){this.setMod(e.modName,e.modVal)}t(i.decl({modName:"type",modVal:"button"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._button=this.findBlockInside("button").on({modName:"checked",modVal:"*"},o,this).on({modName:"focused",modVal:"*"},o,this)}},checked:n,disabled:n,focused:function(t,e){n.call(this,t,e,!1)}}},{live:function(){return this.liveInitOnBlockInsideEvent({modName:"js",modVal:"inited"},"button"),this.__base.apply(this,arguments)}}))}),modules.define("select",["jquery"],function(t,e,i){t(i.decl({modName:"mode",modVal:"radio-check"},{_updateControl:function(){var t=this.getVal(),n=this.elem("control");n.length||(n=e(i._createControlHTML(this.getName(),t)),this.dropElemCache("control")),"undefined"==typeof t?n.remove():(n.parent().length||this.domElem.prepend(n),n.val(t))},_updateButton:function(){var t=this._getCheckedItems()[0];this._button.toggleMod("checked",!0,"",!!t).setText(t?t.getText():this.params.text)},_onMenuItemClick:function(t,e){"pointer"===e.source&&this.delMod("opened")}}))}),modules.define("menu",function(t,e){t(e.decl({modName:"mode",modVal:"radio-check"},{_getVal:function(){for(var t,e=this.getItems(),i=0;t=e[i++];)if(t.hasMod("checked"))return t.getVal()},_setVal:function(t){var e="undefined"==typeof t,i=!1,n=!1,o=this.getItems().map(function(o){return e?(o.hasMod("checked")&&(i=!0),!1):o.isValEq(t)?(o.hasMod("checked")||(i=!0),n=!0):!1});return e||n?(this._updateItemsCheckedMod(o),i):!1},_onItemClick:function(t){this.__base.apply(this,arguments),this.getItems().forEach(function(e){e===t?e.toggleMod("checked"):e.delMod("checked")}),this._isValValid=!1,this.emit("change")}}))}),modules.define("attach",["i-bem__dom","i-bem__internal","control","jquery","strings__escape"],function(t,e,i,n,o,s){function r(t){return t.split("\\").pop()}t(e.decl({block:this.name,baseBlock:n},{onSetMod:{disabled:function(t,e){this.__base.apply(this,arguments),this._getButton().setMod(t,e)}},clear:function(t){return this.getVal()?this._clear(t):this},_clear:function(t){var i=this.elem("control"),n=i.attr("name"),o=i.attr("tabindex");return e.replace(i,'<input class="'+i.attr("class")+'" type="file"'+(n?' name="'+n+'"':"")+(o?' tabindex="'+o+'"':"")+"/>"),e.destruct(this.elem("file")),this.domElem.append(this.elem("no-file")),this.dropElemCache("control file")._emitChange(t)},_onClearClick:function(){this.clear({source:"clear"})},_onChange:function(){this.elem("no-file").detach(),this.getVal()?this._updateFileElem()._emitChange():this._clear()},_emitChange:function(t){return this.emit("change",t)},_updateFileElem:function(){var t=r(this.getVal());return this.elem("file").length&&e.destruct(this.elem("file")),e.append(this.domElem,'<span class="'+this.__self.buildClass("file")+'"><span class="'+this.__self.buildClass("text")+'">'+s.html(t)+'</span><span class="'+this.__self.buildClass("clear")+'"/></span>'),this.dropElemCache("file")},_getButton:function(){return this.findBlockInside("button")}},{live:function(){return this.liveBindTo("clear","pointerclick",this.prototype._onClearClick).liveBindTo("control","change",this.prototype._onChange),this.__base.apply(this,arguments)}}))}),modules.define("progressbar-example",["i-bem__dom","tick"],function(t,e,i){t(e.decl(this.name,{onSetMod:{js:{inited:function(){this._button=this.findBlockInside("button"),this._progressbar=this.findBlockInside("progressbar")}}},_progressProcess:function(){this._onTick=this._onTick||function(){var t=this._progressbar.getVal();this._progressbar.setVal(t>=100?0:t+1)},this._button.hasMod("checked")?i.un("tick",this._onTick,this):i.on("tick",this._onTick,this).start()}},{live:function(){this.liveInitOnBlockInsideEvent({modName:"checked",modVal:"*"},"button",this.prototype._progressProcess)}}))}),modules.define("progressbar",["i-bem__dom"],function(t,e){t(e.decl(this.name,{onSetMod:{js:{inited:function(){this._val=this.params.val}}},setVal:function(t){return this.domElem.attr("aria-valuenow",(this._val=t)+"%"),this.elem("bar").css("width",t+"%"),this},getVal:function(){return this._val}},{live:!0}))}),modules.define("textarea",["i-bem__dom","input"],function(t,e,i){t(e.decl({block:this.name,baseBlock:i}))}),modules.define("test",["i-bem__dom"],function(t,e){t(e.decl(this.name,{onSetMod:{js:{inited:function(){var t=this.findBlockInside("modal"),e=this.findBlockInside({block:"link",modName:"show-modal",modVal:!0});e.on("click",function(){t.setMod("visible")})}}}}))}),modules.define("link",["keyboard__codes"],function(t,e,i){t(i.decl({modName:"pseudo",modVal:!0},{onSetMod:{focused:{"true":function(){this.__base.apply(this,arguments),this.bindTo("control","keydown",this._onKeyDown)},"":function(){this.__base.apply(this,arguments),this.unbindFrom("control","keydown",this._onKeyDown)}}},_onPointerClick:function(t){t.preventDefault(),this.__base.apply(this,arguments)},_onKeyDown:function(t){t.keyCode===e.ENTER&&this._onPointerClick(t)}}))}),modules.define("modal",["i-bem__dom","popup"],function(t,e){t(e.decl(this.name,{onSetMod:{js:{inited:function(){this._popup=this.findBlockOn("popup")},"":function(){this.delMod("visible")}},visible:function(t,e){this._popup.setMod(t,e)}},setContent:function(t){return e.update(this.elem("content"),t),this}},{live:!0}))}),modules.define("modal",function(t,e){t(e.decl({modName:"theme",modVal:"islands"},{onSetMod:{visible:{"true":function(){this.setMod("has-animation").__base.apply(this,arguments)}}}}))}),modules.define("modal",["jquery","dom"],function(t,e,i,n){t(n.decl({modName:"autoclosable",modVal:!0},{onSetMod:{visible:{"true":function(){this.__base.apply(this,arguments),this.bindTo("pointerclick",this._onPointerClick)._popup.on({modName:"visible",modVal:""},this._onPopupHide,this)},"":function(){this.__base.apply(this,arguments),this.unbindFrom("pointerclick",this._onPointerClick)._popup.un({modName:"visible",modVal:""},this._onPopupHide,this)}}},_onPointerClick:function(t){
i.contains(this.elem("content"),e(t.target))||this.delMod("visible")},_onPopupHide:function(){this.delMod("visible")}}))}),modules.define("checkbox",["button"],function(t,e,i){function n(t,e,i){i!==!1&&this.__base.apply(this,arguments),this._button.setMod(t,e)}function o(t,e){this.setMod(e.modName,e.modVal)}t(i.decl({modName:"type",modVal:"button"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._button=this.findBlockInside("button").on({modName:"checked",modVal:"*"},o,this).on({modName:"focused",modVal:"*"},o,this)}},checked:function(t,e){n.apply(this,arguments),this._button.domElem.removeAttr("aria-pressed").attr("aria-checked",!!e)},disabled:n,focused:function(t,e){n.call(this,t,e,!1)}}},{live:function(){return this.liveInitOnBlockInsideEvent({modName:"js",modVal:"inited"},"button"),this.__base.apply(this,arguments)}}))});